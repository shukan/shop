import{dl as S,dE as $,u as P,g as D,f as k,o as L,i as U,t as B,T as F,$ as A,n as v,p as l,v as u,x as o,A as p,O as N,F as b,C as O,E as h,y as m,z as y,I as R,J as V,D as E,aT as j}from"./index-21964c78.js";import{v as M}from"./loading-9a2abf10.js";import{E as T}from"./pagination-85e496af.js";/* empty css              */import"./tag-b8b29d1f.js";import"./select-ed2293fb.js";import"./scrollbar-c1d26490.js";import"./popper-251c4401.js";/* empty css             */import{E as q}from"./image-viewer-dd6920ac.js";import{d as W,w as J}from"./favorites-30bee934.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import"./isEqual-3f4e7b62.js";import"./_Uint8Array-4a48d71f.js";import"./strings-b80b2625.js";import"./debounce-6ea0a711.js";import"./_baseIteratee-8f2ec951.js";import"./hasIn-54cf4aec.js";import"./index-a2bc563c.js";import"./isUndefined-aa0326a0.js";const x={name:"item",components:{StarFilled:S,Box:$},setup(){const t=P(),{addCart:a}=D();let r=k({listsOrder:[],loading:!1,isdata:!0}),n=k({page:1,size:36,total:0}),d=()=>{r.loading=!0,W(n).then(s=>{if(s.status==200){let i=s.data;r.listsOrder=i.items,n.total=i.records,i.items.length>0?r.isdata=!0:r.isdata=!1}else r.isdata=!1;r.loading=!1})},C=()=>{d()};L((s,i)=>{d()});const _=s=>{a({item_id:s,cart_quantity:1,SKU_Id:s},t)},g=s=>{t.push({path:"/product/detail",query:{item_id:s}})},c=async s=>{const{msg:i,status:f}=await J({item_id:s});f==200?(F.success(A("已取消收藏!")),d()):F.error(i)};return U(()=>{d()}),{getLists:d,addCartItem:_,checkApplicationId:C,removeWish:c,jumpProductDetail:g,...B(r),...B(n)}}};const G={class:"right-title-box"},H={class:"first-title"},Q={key:0,class:"primary-list"},X=["onClick"],Y={class:"p-name"},Z={class:"price-wrap"},tt={class:"price"},et={class:"symbol"},st={key:1,class:"empty-box"},at={class:"empty-text"},ot={key:2,class:"sortPagiBar",style:{clear:"both"}},it={class:"bottom-pagination"};function rt(t,a,r,n,d,C){const _=q,g=v("StarFilled"),c=V,s=v("Box"),i=v("router-link"),f=T,z=M;return l(),u(b,null,[o("div",G,[o("div",H,p(t.$t("我的收藏")),1)]),t.isdata?N((l(),u("div",Q,[(l(!0),u(b,null,O(t.listsOrder,(e,w)=>(l(),u("div",{class:"item",key:w,onClick:I=>n.jumpProductDetail(e.item_id)},[m(_,{src:e.product_image,fit:"cover",class:"img"},null,8,["src"]),o("div",Y,p(e.product_item_name),1),o("div",Z,[o("text",tt,[o("span",et,p(t.$t("￥")),1),E(p(e.item_unit_price),1)])]),o("div",null,[m(c,{class:"wish-button",onClick:j(I=>n.removeWish(e.item_id),["stop"])},{default:y(()=>[m(g)]),_:2},1032,["onClick"])])],8,X))),128))])),[[z,t.loading]]):h("",!0),t.isdata?h("",!0):(l(),u("div",st,[m(c,{class:"empty-icon"},{default:y(()=>[m(s)]),_:1}),o("div",at,p(t.$t("您还没有收藏过任何内容哦！")),1),m(i,{to:"/index",class:"empty-btn"},{default:y(()=>[E(p(t.$t("去首页逛逛")),1)]),_:1})])),t.total?(l(),u("div",ot,[o("div",it,[o("nav",null,[(l(),R(f,{currentPage:t.page,"onUpdate:currentPage":a[0]||(a[0]=e=>t.page=e),"page-size":t.size,"onUpdate:pageSize":a[1]||(a[1]=e=>t.size=e),"page-sizes":[10,20,30,40],small:!1,disabled:!1,background:!0,layout:"prev,pager,next,total,jumper",total:t.total,key:t.page,onSizeChange:a[2]||(a[2]=e=>{t.size=e,n.getLists()}),onCurrentChange:a[3]||(a[3]=e=>{t.page=e,n.getLists()})},null,8,["currentPage","page-size","total"]))])])])):h("",!0)],64)}const wt=K(x,[["render",rt],["__scopeId","data-v-3aad8b1a"]]);export{wt as default};
