import{a4 as E,s as B,ag as F,_ as $,b as q,e as I,f as m,o as S,i as D,t as g,T as b,$ as L,n as y,p,v as u,x as o,y as d,z as _,A as l,G as P,F as R,C as A,I as V,J as M,D as N,V as U,W as x}from"./index-21964c78.js";import{E as T}from"./empty-dc50944b.js";import{E as j}from"./pagination-85e496af.js";/* empty css              */import"./tag-b8b29d1f.js";import"./select-ed2293fb.js";import"./scrollbar-c1d26490.js";import"./popper-251c4401.js";import{E as G}from"./image-viewer-dd6920ac.js";/* empty css             */import{S as J}from"./index-f12e260f.js";import{a as W}from"./product-4d2f9c7a.js";import{_ as H}from"./addr-5e1cd51c.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import"./isEqual-3f4e7b62.js";import"./_Uint8Array-4a48d71f.js";import"./strings-b80b2625.js";import"./debounce-6ea0a711.js";import"./_baseIteratee-8f2ec951.js";import"./hasIn-54cf4aec.js";import"./index-a2bc563c.js";import"./isUndefined-aa0326a0.js";const O={name:"indexList",components:{Plus:E,Search:B,Edit:F,Delete:$,ArrowRight:q},setup(){const t=I();let a=m({curMonth:0,items:[],total:0,page:1,size:12,loading:!1,itemClass:"",key_type:t.query.key_type||1});S((e,s)=>{switch(r.keywords=e.query.keywords||"",r.key_type=e.query.key_type||1,r.page=parseInt(e.query.page)||1,r.size=parseInt(e.query.size)||12,a.key_type=r.key_type,r.key_type){case"2":a.itemClass="old-new";break;case"3":a.itemClass="rent";case"4":a.itemClass="service"}n()});let r=m({page:a.page,size:a.size,keywords:t.query.keywords||"",key_type:t.query.key_type||""}),n=()=>{W(r).then(e=>{if(e.status==200){for(var s=0;s<e.data.items.length;s++)e.data.items[s].id=e.data.items[s].item_id,e.data.items[s].product_unit_price_min!=e.data.items[s].product_unit_price_max&&e.data.items[s].product_unit_price_min<e.data.items[s].product_unit_price_max?e.data.items[s].product_unit_price_range=e.data.items[s].product_unit_price_min+"~"+e.data.items[s].product_unit_price_max:e.data.items[s].product_unit_price_range=e.data.items[s].product_unit_price_min,e.data.items[s].user_cart_quantity=1;a.items=e.data.items,a.total=e.data.records}else b.error(L("获取数据失败"))})};return D(()=>{n()}),{StateCode:J,getLists:n,...g(a),...g(r)}}};const f=t=>(U("data-v-f3c070e2"),t=t(),x(),t),Q={id:"page-container"},X={class:"container"},Y={class:"breadcrumb clearfix"},Z=f(()=>o("img",{src:H,style:{width:"20px",height:"20px",position:"relative","margin-right":"10px"}},null,-1)),tt={class:"space-icon"},et=["title"],at={class:"container search-page"},st={class:"p-name sc-medium"},ot={class:"price-wrap"},it={class:"price"},rt=f(()=>o("text",{class:"time"},null,-1)),nt={key:0,class:"sortPagiBar"},pt={class:"bottom-pagination"},dt={key:1};function ut(t,a,r,n,e,s){const c=y("router-link"),h=y("ArrowRight"),k=M,v=G,C=j,z=T;return p(),u("div",Q,[o("div",X,[o("div",Y,[Z,d(c,{to:"/index",class:"home",title:t.$t("首页")},{default:_(()=>[N(l(t.$t("首页")),1)]),_:1},8,["title"]),o("span",tt,[d(k,null,{default:_(()=>[d(h)]),_:1})]),o("span",{class:"home cur",title:t.$t("搜索")},l(t.$t("搜索")),9,et)])]),o("div",at,[o("div",{class:P(t.itemClass+" search-lists")},[(p(!0),u(R,null,A(t.items,(i,w)=>(p(),u("div",{key:w,class:"item"},[d(c,{to:{path:"/product/detail",query:{item_id:i.item_id}}},{default:_(()=>[d(v,{src:i.product_image,fit:"cover",class:"img"},null,8,["src"]),o("div",st,l(i.product_name),1),o("div",ot,[o("text",it,l(t.$t("￥"))+l(i.product_unit_price_range),1),rt])]),_:2},1032,["to"])]))),128))],2),t.total?(p(),u("div",nt,[o("div",pt,[o("nav",null,[(p(),V(C,{currentPage:t.page,"onUpdate:currentPage":a[0]||(a[0]=i=>t.page=i),"page-size":t.size,"onUpdate:pageSize":a[1]||(a[1]=i=>t.size=i),"page-sizes":[36,72,108,144],small:!1,disabled:!1,background:!0,layout:"prev,pager,next,total,jumper",total:t.total,key:t.page,onSizeChange:a[2]||(a[2]=i=>{t.size=i,n.getLists()}),onCurrentChange:a[3]||(a[3]=i=>{t.page=i,n.getLists()})},null,8,["currentPage","page-size","total"]))])])])):(p(),u("div",dt,[d(z,{description:t.$t("对不起，未搜索到任何记录")},null,8,["description"])]))])])}const Lt=K(O,[["render",ut],["__scopeId","data-v-f3c070e2"]]);export{Lt as default};
