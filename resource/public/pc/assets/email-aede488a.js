import{P as y,r as _,f as p,$ as v,au as B,p as $,v as w,y as o,z as n,D as C,A as b,L as V,K as A}from"./index-21964c78.js";import{a as I,E as R}from"./form-item-8d3c5b0e.js";/* empty css               */import{E as k}from"./image-viewer-dd6920ac.js";/* empty css              */import{E as D,a as S}from"./step-fc04c36a.js";import{h as E}from"./helper-0ec263a7.js";import{_ as h}from"./_plugin-vue_export-helper-c27b6911.js";import"./castArray-18b00898.js";import"./_baseClone-42b68cca.js";import"./_Uint8Array-4a48d71f.js";import"./_initCloneObject-dc96d043.js";import"./debounce-6ea0a711.js";import"./index-a7a3c269.js";import"./dayjs.min-8a7592b2.js";const z=y({setup(){const e=_(""),r=_("default"),f=_();let c=p({new_email:"",verify_code:""}),g=p({bind_access_token:"",verify_code:""});const s=p({new_email:[{validator:(a,l,t)=>{console.log(E.email(l)),l===""?t(new Error(v("请输入邮箱账户"))):E.email(l)?t(new Error(v("邮箱地址错误"))):t()},trigger:"blur"}]}),d=p({});let i=()=>{B({}).then(a=>{if(a){let l=new FileReader;l.onload=function(t){e.value=t.target.result},l.readAsDataURL(a)}})};return i(),{formSize:r,ruleForm1:c,ruleFormRef:f,ruleForm2:g,rules1:s,rules2:d,imgCode:e,getImage:i,submitForm:async a=>{a&&await a.validate((l,t)=>{l?console.log("submit!"):console.log("error submit!",t)})}}}});const U={class:"page"};function L(e,r,f,c,g,F){const s=S,d=D,i=V,m=R,a=k,l=A,t=I;return $(),w("div",U,[o(d,{active:1},{default:n(()=>[o(s,{title:e.$t("输入新邮箱")},null,8,["title"]),o(s,{title:e.$t("验证新邮箱")},null,8,["title"]),o(s,{title:e.$t("完成")},null,8,["title"])]),_:1}),o(t,{ref:"ruleFormRef",model:e.ruleForm1,rules:e.rules1,"label-width":"120px",class:"demo-ruleForm"},{default:n(()=>[o(m,{label:e.$t("邮箱账户"),prop:"new_email"},{default:n(()=>[o(i,{modelValue:e.ruleForm1.new_email,"onUpdate:modelValue":r[0]||(r[0]=u=>e.ruleForm1.new_email=u)},null,8,["modelValue"])]),_:1},8,["label"]),o(m,{label:e.$t("验证码")},{default:n(()=>[o(i,{modelValue:e.ruleForm1.verify_code,"onUpdate:modelValue":r[1]||(r[1]=u=>e.ruleForm1.verify_code=u),prop:"verify_code",placeholder:""},{append:n(()=>[o(l,{style:{padding:"0",width:"102px"},onClick:e.getImage},{default:n(()=>[o(a,{class:"img-responsive",style:{"margin-top":"-5px"},src:e.imgCode,fit:"cover",lazy:""},null,8,["src"])]),_:1},8,["onClick"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),o(m,null,{default:n(()=>[o(l,{type:"primary",onClick:r[2]||(r[2]=u=>e.submitForm(e.ruleFormRef))},{default:n(()=>[C(b(e.$t("下一步")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])])}const Z=h(z,[["render",L],["__scopeId","data-v-0dc37337"]]);export{Z as default};
