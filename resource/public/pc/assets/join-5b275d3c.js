import{_ as G,a as O,b as W}from"./TopHeader-817fa56c.js";import{_ as X}from"./index-540d85c2.js";import{l as Y,s as Z,c as ee,q as te,b as oe,d as se,u as ae,r as L,e as ne,f as b,o as re,$ as v,g as q,h as le,w as ie,i as ce,k as _e,t as ue,bb as de,m as pe,ba as me,n as k,p as f,v as y,x as i,y as o,z as c,A as T,B as ge,F as B,C as he,D as U,E as fe,J as ye,K as we,L as be,P as ve}from"./index-21964c78.js";import{E as ke}from"./link-8dfac441.js";import{E as Se}from"./image-viewer-dd6920ac.js";import{E as Ie}from"./overlay-b290a267.js";/* empty css              *//* empty css               *//* empty css             */import{V as Ve}from"./vue-qr-74c08ca5.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-7c4df64c.js";import"./index-958427bc.js";import"./sub-menu-77e2fda5.js";import"./index-10507120.js";import"./popper-251c4401.js";import"./isUndefined-aa0326a0.js";/* empty css                */import"./debounce-6ea0a711.js";import"./refs-1278d799.js";const Ce={name:"header",components:{Location:Y,Search:Z,VueQr:Ve,CaretBottom:ee,QuestionFilled:te,ArrowRight:oe,ShoppingTrolley:se},setup(){const s=ae(),a=L("1"),u=ne();b({});let e=b({dialogVisiblePop:!1,hasLogin:!1,loading:!1,isTopImg:!0,userRow:{},cart_count:0,label:"",searchIndex:0,keywords:"",key_type:u.query.key_type||1,path:"/product/lists",isShow:!1,headerNav:[],productCategoryNav:[],isHome:!1,default_site_row:"",dialogVisible:!1,subsite_hot_rows:[],subsite_current_row:{},citys:[],isSubsite:!1,search_hot_words:[],search_history_words:[],suggest_search_words:{},current_label:"zh-CN",current_img:"https://static.shopsuite.cn/shopsuite/flags/square/5322affbc4d56.png",routeUrl:"",customSite:[],currentSite:[],isSite:!1,current_language:"中文"}),w=L(""),p=L("");p.value=u.name,re((t,l)=>{e.routeUrl=t.path,p.value=t.name,p.value!="index"&&(e.isHome=!1)});const r=b([{label:v("商品"),path:"/product/search",type:1},{label:v("服务"),path:"/product/search",type:4},{label:v("店铺"),path:"/store/lists",type:5}]),m=()=>{let t=b({});t=me();let l=de();for(let h in t.items)t.items[h].lang==l&&(e.current_label=t.items[h].label,e.current_img=t.items[h].img)},{getUserInfo:d,resetAll:g,setCustomSite:S,logout:I,setCartNum:N}=q();le(async()=>{console.log("*******onBeforeMount******");try{await d().then(()=>{console.info(2222)})}catch(l){console.error("错误拦截:",l),await g()}for(var t in r)r[t].type==parseInt(e.key_type)&&(e.label=v(r[t].label),e.path=r[t].path)});const _=q();let V=()=>{I()},C=()=>{const t=_.getIndexLayout;t.page_pc_nav.length>0&&(e.headerNav=t.page_pc_nav),t.category_nav.length>0&&(e.productCategoryNav=t.category_nav),pe({}).then(l=>{l.status==200&&(e.search_hot_words=l.data.search_hot_words,e.search_history_words=l.data.search_history_words,e.suggest_search_words=l.data.suggest_search_words,e.keywords||(e.keywords=l.data.suggest_search_words.default_search_words))})},E=t=>{e.cart_count=t};const n=()=>{let t={key_type:e.key_type,keywords:w.value};s.push({path:"/product/lists",query:t})},x=t=>{w.value=t};let A=()=>{let t={key_type:e.key_type,keywords:e.keywords};s.push({path:"/product/lists",query:t})},F=t=>{e.searchIndex=t,e.key_type=r[t].type,e.path=r[t].path};ie(()=>{document.title=="undefined"&&(document.title=_.info.site_name),e.keywords=u.query.keywords,e.key_type=u.query.key_type||1,e.current_language=localStorage.getItem("current_language")||"中文"});let P=()=>{e.isShow=!0},H=()=>{e.isShow=!1};const M=()=>{e.isSubsite=!0},R=()=>{e.isSubsite=!1},z=()=>{localStorage.setItem("pop_pc_enable","1")},J=(t,l,h,D,ze,Je)=>{D?window.location.href="//"+D:(S(t,l,h),location.reload())},$=()=>{e.isTopImg=!1,localStorage.setItem("isTopImg","1")},j=()=>{e.isSite=!0},Q=()=>{e.isSite=!1};return ce(()=>{e.routeUrl=u.path,m(),C(),_.info.index_pop_pc_enable&&_.info.index_pop_pc_img&&!localStorage.getItem("pop_pc_enable")&&(e.dialogVisiblePop=!0),localStorage.getItem("isTopImg")&&(e.isTopImg=!1)}),{activeIndex:a,counter:_,logouts:V,searchData:r,closePop:z,search:A,selectType:F,enter:P,leave:H,cartCount:E,showSubsite:M,hideSubsite:R,setSiteId:J,hideTopImg:$,showSite:j,hideSite:Q,getCustomSite:_e,inputKeywords:x,handleEnterKey:n,...ue(e)}}},Ee={id:"header",class:"header"},xe={class:"container main-header clearfix"},Le={style:{float:"left"}},Te={class:"site-logo"},Be=["src"],Ne={class:"slogan"},De={class:"search-wrapper"},qe={class:"form-inline",method:"get"},Ue={class:"mt-4"},Ke={key:0,class:"search-hot-list-box hidden-xs"},Ae={class:"search-hot-list"},Fe={class:"pop-pc"};function Pe(s,a,u,e,w,p){const r=k("router-link"),m=k("Search"),d=ye,g=we,S=be,I=k("ShoppingTrolley"),N=G,_=Ie,V=Se,C=ke,E=X;return f(),y(B,null,[i("div",Ee,[i("div",xe,[i("div",Le,[o(r,{to:"/index"},{default:c(()=>[i("div",Te,[i("img",{src:e.counter.info.site_pc_logo,width:"192"},null,8,Be)]),i("div",Ne,T(e.counter.info.site_name),1)]),_:1})]),i("div",De,[i("div",qe,[i("div",Ue,[o(S,{modelValue:s.keywords,"onUpdate:modelValue":a[0]||(a[0]=n=>s.keywords=n),size:"large",placeholder:s.$t("请输入搜索关键词"),class:"input-with-select",onInput:e.inputKeywords,onKeyup:ge(e.handleEnterKey,["enter"])},{append:c(()=>[o(g,{size:"small",color:"#21ADEA",onClick:e.search},{default:c(()=>[o(d,{style:{"font-size":"20px"}},{default:c(()=>[o(m,{color:"#fff"})]),_:1})]),_:1},8,["onClick"])]),_:1},8,["modelValue","placeholder","onInput","onKeyup"])])]),s.search_hot_words?(f(),y("div",Ke,[i("ul",Ae,[(f(!0),y(B,null,he(s.search_hot_words,(n,x)=>(f(),y("li",{key:x},[o(r,{to:{path:"/product/lists",query:{keywords:n}}},{default:c(()=>[U(T(n),1)]),_:2},1032,["to"])]))),128))])])):fe("",!0)]),i("div",{class:"topbar-cart",id:"J_miniCartTrigger",onMouseenter:a[1]||(a[1]=(...n)=>e.enter&&e.enter(...n)),onMouseleave:a[2]||(a[2]=(...n)=>e.leave&&e.leave(...n))},[o(r,{rel:"nofollow",class:"cart-mini",id:"J_miniCartBtn",to:"/cart/order"},{default:c(()=>[o(d,{class:"cart-img"},{default:c(()=>[o(I)]),_:1}),U(" "+T(s.$t("我的购物车"))+"   ",1)]),_:1})],32)])]),o(_,{modelValue:s.dialogVisible,"onUpdate:modelValue":a[4]||(a[4]=n=>s.dialogVisible=n),width:"840px",draggable:""},{default:c(()=>[o(N,{onCancel:a[3]||(a[3]=n=>s.dialogVisible=!1)})]),_:1},8,["modelValue"]),o(_,{modelValue:s.dialogVisiblePop,"onUpdate:modelValue":a[5]||(a[5]=n=>s.dialogVisiblePop=n),draggable:"",onClose:e.closePop},{default:c(()=>[i("div",Fe,[o(C,{href:e.counter.info.index_pop_pc_url},{default:c(()=>[o(V,{src:e.counter.info.index_pop_pc_img},null,8,["src"])]),_:1},8,["href"])])]),_:1},8,["modelValue","onClose"]),o(E)],64)}const He=K(Ce,[["render",Pe]]),Me=ve({setup(){}});function Re(s,a,u,e,w,p){const r=O,m=He,d=k("router-view"),g=W;return f(),y(B,null,[o(r),o(m),o(d),o(g)],64)}const ut=K(Me,[["render",Re],["__scopeId","data-v-e55e0f04"]]);export{ut as default};
