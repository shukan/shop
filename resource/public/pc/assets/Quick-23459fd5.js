import{g as V,u as O,f as z,a7 as L,a8 as U,w as Y,t as G,T as B,$ as T,n as J,p as l,v as d,O as M,x as e,I as $,E as h,F as w,C as D,A as i,y as s,z as o,D as g,G as N,X as K,K as j,V as H,W as Q}from"./index-21964c78.js";import{v as W}from"./loading-9a2abf10.js";/* empty css               */import{E as X}from"./input-number-2592ba06.js";/* empty css              */import{E as Z}from"./cascader-panel-e311c1a6.js";import"./popper-251c4401.js";import"./tag-b8b29d1f.js";import"./checkbox-85319853.js";import"./radio-30ecb740.js";import"./scrollbar-c1d26490.js";import{a as x,b as tt}from"./main-34db54b3.js";import{E as et}from"./row-d248ec80.js";import{E as it}from"./col-d6038888.js";import{_ as st}from"./Index-c0d55bc5.js";import{E as ot}from"./image-viewer-dd6920ac.js";import{e as at}from"./product-4d2f9c7a.js";import{S}from"./index-f12e260f.js";import{_ as lt}from"./_plugin-vue_export-helper-c27b6911.js";const dt={props:{itemId:{type:Number,default:0}},setup(t){const y=V(),{addCart:P}=V(),r=O();let a=z({item_id:0,itemRow:{},productFreightInfo:{},storeInfo:{},userInfo:{},cat:[],cart_quantity:1,stock:1,state_id:!0,user_is_pt:0,pcaa:{},district_ids:"",isQrcode:!1,item_image:"",loading:!0,areaList:[]}),b=()=>{var _={item_id:a.item_id};at(_).then(R=>{if(R.status==200){let c=R.data;a.cat=c.cat||[],a.itemRow=c.item_row,a.storeInfo=c.store_info,a.productFreightInfo=c.product_freight_info,a.productFreightInfo.district_info=["110000","110100","110101"],a.stock=c.item_row.item_quantity,a.item_image=c.item_row.item_image_row[0],a.user_is_pt=c.user_is_pt,a.itemRow.product_state_id==S.PRODUCT_STATE_NORMAL&&a.itemRow.product_state_id==S.PRODUCT_STATE_NORMAL?a.state_id=!0:a.state_id=!1}a.loading=!1})},I=L(()=>a.itemRow.activity_item_row.activity_rule.item_unit_price-a.itemRow.activity_item_row.activity_rule.group_sale_price);return U({}).then(_=>{a.areaList=_.data}),Y(()=>{a.item_id=t.itemId,b()}),{selectItem:(_,R)=>{let c=[];a.itemRow.product_spec.forEach((E,u)=>{E.item.forEach((p,v)=>{_==u?R==v&&c.push(p.id):p.select==1&&c.push(p.id)})}),c.sort(function(E,u){return E-u});let F=c.join("-"),A=a.itemRow.product_uniqid[F][0];A&&(a.item_id=A,b())},getDetail:b,StateCode:S,areaCheng:_=>{_[1],a.item_id},addCartItem:()=>{if(!y.hasLogin){B.error(T("请先登录"));return}if(!a.item_id){B.error(T("商品错误"));return}let _={item_id:a.item_id,proName:a.itemRow.product_item_name,cart_quantity:a.cart_quantity,SKU_Id:a.item_id};P(_,r)},activitySalePrice:I,buynow:()=>{if(!y.hasLogin){B.error(T("请先登录"));return}let _={item_id:a.item_id,cart_quantity:a.cart_quantity,cart_id:a.item_id+"|"+a.cart_quantity};r.push({path:"/cart/checkout",query:_})},...G(a)}}};const m=t=>(H("data-v-c8ee609c"),t=t(),Q(),t),nt={id:"page-container"},ut={class:"goods-detail",id:"product"},_t={class:"goods-detail-info clearfix J_goodsDetail"},rt={class:"container"},ct={class:"row"},mt={class:"col-xs-12 col-sm-6 col-md-4 J_mi_goodsPic_block goods-detail-left-info pb-left-column"},pt={class:"product-image"},ht={class:"product-full"},ft={class:"product-img-thumb",id:"gallery_01"},vt={class:"owl-carousel","data-items":"4","data-nav":"true","data-dots":"false","data-margin":"21","data-loop":"false"},gt=["data-image","data-zoom-image"],yt=["src"],wt={class:"col-xs-12 col-sm-6 col-md-8 goods-info-rightbox"},Ft=m(()=>e("div",{class:"goods-info-leftborder"},null,-1)),Rt={class:"goods-info-box"},Et={class:"goods-info-head"},bt={id:"item_info_block"},kt={class:"row"},Ct={class:"col-md-10 col-sm-12 col-xs-12"},At={class:"row"},Dt={class:"col-xs-12",style:{padding:"0"}},It={id:"goodsName",class:"goods-name"},Bt={class:"goods-subtitle"},Tt=m(()=>e("div",{class:"col-xs-3 hide",style:{padding:"0"}},[e("img",{class:"img-responsive",alt:"商品二维码",src:"https://test.shopsuite.cn/shop/api/qrcode.php?data=https%3A%2F%2Ftest.shopsuite.cn%2Fh5%2Fpages%2Fproduct%2Fdetail%3Fpid%3D63",width:"150",height:"150"})],-1)),$t={class:"grid-content bg-purple-dark"},St={class:"grid-content bg-purple-dark"},Pt={class:"grid-content bg-purple-dark"},qt={class:"grid-content bg-purple-dark"},Vt={class:"J_salePrice"},Nt={class:"grid-content bg-purple-dark"},Ot={class:"grid-content bg-purple-dark"},zt={class:"grid-content bg-purple-dark"},Lt={class:"grid-content bg-purple-dark"},Ut={class:"J_salePrice"},Yt={class:"grid-content bg-purple-dark"},Gt={key:0,class:"grid-content bg-purple-dark"},Jt={class:"grid-content bg-purple-dark"},Mt={class:"grid-content bg-purple-dark"},Kt={class:"grid-content bg-purple-dark"},jt={class:"grid-content bg-purple-dark"},Ht={class:"grid-content bg-purple-dark"},Qt={class:"grid-content bg-purple-dark"},Wt={class:"J_salePrice"},Xt={class:"grid-content bg-purple-dark"},Zt={class:"grid-content bg-purple-dark"},xt={class:""},te={class:"grid-content bg-purple-dark"},ee={key:1,class:"goods-info-head-price mt0 clearfix"},ie={key:0},se={class:"J_mi_goodsPrice"},oe={key:1},ae=m(()=>e("i",null,"     + ",-1)),le={key:2},de=m(()=>e("i",null," + ",-1)),ne={class:"J_mi_marketPrice"},ue={class:"goods-info-head-line"},_e={class:"clearfix"},re={id:"district_box",style:{position:"relative"}},ce={class:"label text-auto-w fl",title:"运费"},me=m(()=>e("span",{class:"label fl"},"：",-1)),pe={class:"",id:"product_freight_info"},he=["innerHTML"],fe={key:2},ve=["title"],ge=m(()=>e("span",{class:"label fl"},"：",-1)),ye={class:"clearfix"},we=["onClick"],Fe=["title"],Re=["alt","src"],Ee={key:1},be={class:"goods-info-head-line"},ke={class:"clearfix"},Ce={class:"label text-auto-w fl",title:"数量"},Ae=m(()=>e("span",{class:"label fl"},"：",-1)),De={class:"cont pull-left"},Ie={class:"label"},Be={class:"goods-info-head-cart"},Te={key:0},$e=m(()=>e("i",{class:"fa fa-cart-plus"},null,-1)),Se=m(()=>e("i",{class:"fa fa-cart-plus"},null,-1)),Pe={key:2},qe=m(()=>e("i",{class:"fa fa-cart-plus"},null,-1)),Ve=m(()=>e("i",{class:"fa fa-cart-plus"},null,-1)),Ne={key:1},Oe=m(()=>e("i",{class:"fa fa-cart-plus"},null,-1)),ze={class:"goods-info-foot"},Le=m(()=>e("span",{class:"fa fa-plus-square"},null,-1)),Ue=K('<div class="col-md-3 col-sm-12 col-xs-12 column left_column hidden-xs hidden-sm hide" data-v-c8ee609c><h4 class="track-title text-center" data-v-c8ee609c><span data-v-c8ee609c>移动扫码</span></h4><h4 class="track-title text-center" data-v-c8ee609c><span data-v-c8ee609c>看了又看</span></h4><div class="category row" data-v-c8ee609c><ul class="product-list" data-v-c8ee609c><div class="text-center center_column col-xs-12" data-v-c8ee609c><header class="no-box" data-v-c8ee609c><i class="fa fa-warning" data-v-c8ee609c></i><h3 data-v-c8ee609c>暂无您的浏览记录</h3><p data-v-c8ee609c>可以去看看哪些想要买的</p><a href="https://test.shopsuite.cn/Index/index" class="btn" data-v-c8ee609c>随便逛逛</a></header></div></ul></div></div>',1);function Ye(t,y,P,r,a,b){const I=ot,k=st,n=it,f=et,C=x,_=tt,R=Z,c=X,F=j,A=J("router-link"),E=W;return l(),d("div",nt,[M((l(),d("div",ut,[e("div",_t,[e("div",rt,[e("div",ct,[e("div",mt,[e("div",pt,[e("div",ht,[t.itemRow.item_image_row&&t.itemRow.item_image_row[0]?(l(),$(I,{key:0,id:"product-zoom",src:t.itemRow.item_image_row[0],lazy:"",fit:"cover","preview-src-list":t.itemRow.item_image_row,"initial-index":1},null,8,["src","preview-src-list"])):h("",!0)]),e("div",ft,[e("ul",vt,[(l(!0),d(w,null,D(t.itemRow.item_image_row,(u,p)=>(l(),d("li",{key:p},[e("a",{href:"#","data-image":u,"data-zoom-image":u},[e("img",{id:"product-zoom",src:u},null,8,yt)],8,gt)]))),128))])])])]),e("div",wt,[Ft,e("div",Rt,[e("div",Et,[e("dl",bt,[e("div",kt,[e("div",Ct,[e("div",At,[e("div",Dt,[e("dt",It,i(t.itemRow.product_item_name),1),e("dd",Bt,[e("p",null,i(t.itemRow.product_tips),1)])]),Tt]),t.itemRow.activity_type_id?(l(),d(w,{key:0},[t.itemRow.activity_type_id==r.StateCode.ACTIVITY_TYPE_LIMITED_DISCOUNT?(l(),d(w,{key:0},[s(k,{endDate:t.itemRow.activity_item_row.activity_item_endtime,title:t.itemRow.activity_type_name},null,8,["endDate","title"]),s(_,{class:"summary-price-wrap"},{default:o(()=>[s(C,null,{default:o(()=>[s(f,null,{default:o(()=>[s(n,{span:2},{default:o(()=>[e("div",$t,[e("div",null,i(t.$t("标题：")),1)])]),_:1}),s(n,{span:22},{default:o(()=>[e("div",St,i(t.itemRow.activity_item_row.activity_title),1)]),_:1})]),_:1}),s(f,null,{default:o(()=>[s(n,{span:2},{default:o(()=>[e("div",Pt,[e("div",null,i(t.$t("秒杀价：")),1)])]),_:1}),s(n,{span:22},{default:o(()=>[e("div",qt,[e("dd",Vt,i(t.$t("￥"))+" "+i(t.itemRow.item_sale_price||t.itemRow.item_unit_price),1)])]),_:1})]),_:1})]),_:1})]),_:1})],64)):t.itemRow.activity_type_id==r.StateCode.ACTIVITY_TYPE_GROUPBOOKING?(l(),d(w,{key:1},[s(k,{endDate:t.itemRow.activity_item_row.activity_item_endtime,title:t.itemRow.activity_type_name},null,8,["endDate","title"]),s(_,{class:"summary-price-wrap"},{default:o(()=>[s(C,null,{default:o(()=>[s(f,null,{default:o(()=>[s(n,{span:3},{default:o(()=>[e("div",Nt,[e("div",null,i(t.$t("标题：")),1)])]),_:1}),s(n,{span:21},{default:o(()=>[e("div",Ot,i(t.itemRow.activity_item_row.activity_title),1)]),_:1})]),_:1}),s(f,null,{default:o(()=>[s(n,{span:3},{default:o(()=>[e("div",zt,[e("div",null,i(t.$t("拼团价：")),1)])]),_:1}),s(n,{span:21},{default:o(()=>[e("div",Lt,[e("dd",Ut,i(t.$t("￥"))+" "+i(t.itemRow.item_sale_price||t.itemRow.item_unit_price),1)])]),_:1})]),_:1}),s(f,null,{default:o(()=>[s(n,{span:3},{default:o(()=>[e("div",Yt,[e("div",null,i(t.$t("活动规则：")),1)])]),_:1}),s(n,{span:21},{default:o(()=>[t.itemRow.activity_item_row.activity_rule.group_buy_limit>0?(l(),d("div",Gt,[e("dd",null,i(t.$t("每人限购"))+" "+i(t.itemRow.activity_item_row.activity_rule.group_buy_limit)+" "+i(t.$t("件活动商品，")),1)])):h("",!0),e("div",Jt,[e("dd",null,i(t.itemRow.activity_item_row.activity_rule.group_quantity)+" "+i(t.$t("人成团，可省"))+i(r.activitySalePrice),1)]),e("div",Mt,[e("dd",null,i(t.$t("还差"))+" "+i(t.itemRow.activity_item_row.activity_rule.group_buy_limit)+" "+i(t.$t("人成团")),1)])]),_:1})]),_:1})]),_:1})]),_:1})],64)):h("",!0),t.itemRow.activity_type_id==r.StateCode.ACTIVITY_TYPE_GIFT?(l(),d(w,{key:2},[s(k,{endDate:t.itemRow.activity_item_row.activity_item_endtime,title:t.itemRow.activity_type_name},null,8,["endDate","title"]),s(_,{class:"summary-price-wrap"},{default:o(()=>[s(C,null,{default:o(()=>[s(f,null,{default:o(()=>[s(n,{span:2},{default:o(()=>[e("div",Kt,[e("div",null,i(t.$t("标题：")),1)])]),_:1}),s(n,{span:22},{default:o(()=>[e("div",jt,i(t.itemRow.activity_item_row.activity_title),1)]),_:1})]),_:1}),s(f,null,{default:o(()=>[s(n,{span:2},{default:o(()=>[e("div",Ht,[e("div",null,i(t.$t("价格：")),1)])]),_:1}),s(n,{span:22},{default:o(()=>[e("div",Qt,[e("dd",Wt,i(t.$t("￥"))+" "+i(t.itemRow.item_sale_price||t.itemRow.item_unit_price)+" ",1)])]),_:1})]),_:1}),s(f,null,{default:o(()=>[s(n,{span:2},{default:o(()=>[e("div",Xt,[e("div",null,i(t.$t("时间：")),1)])]),_:1}),s(n,{span:21},{default:o(()=>[e("div",Zt,[e("dd",xt,i(t.itemRow.activity_item_row.activity_starttime)+" "+i(t.$t("至"))+" "+i(t.itemRow.activity_item_row.activity_item_endtime),1)])]),_:1})]),_:1}),s(f,null,{default:o(()=>[s(n,{span:2},{default:o(()=>[e("div",te,[e("div",null,i(t.$t("规则：")),1)])]),_:1}),s(n,{span:22},{default:o(()=>[t.itemRow.activity_item_row.activity_rule.rule?(l(!0),d(w,{key:0},D(t.itemRow.activity_item_row.activity_rule.rule,(u,p)=>(l(),d("div",{key:p},i(t.$t("购买活动商品消费满￥"))+" "+i(u.total)+i(t.$t("，可最多赠送以下活动商品"))+i(u.max_num)+" "+i(t.$t("件。")),1))),128)):h("",!0)]),_:1})]),_:1})]),_:1})]),_:1})],64)):h("",!0)],64)):(l(),d("dd",ee,[t.itemRow.item_sale_price>0||t.itemRow.item_unit_price>0?(l(),d("label",ie,[e("b",se,i(t.itemRow.item_sale_price||t.itemRow.item_unit_price),1),e("i",null,"    "+i(t.$t("元")),1)])):h("",!0),t.itemRow.item_unit_points&&t.itemRow.item_unit_points>0?(l(),d("label",oe,[ae,g(i(t.itemRow.item_unit_points)+" ",1),e("i",null,"  "+i(t.$t("积分")),1)])):h("",!0),t.itemRow.item_unit_sp&&t.itemRow.item_unit_sp>0?(l(),d("label",le,[de,g(i(t.itemRow.item_unit_sp)+" ",1),e("i",null," "+i(t.$t("众宝")),1)])):h("",!0),e("del",null,[e("span",ne,i(t.itemRow.item_sale_price||t.itemRow.item_unit_price)+i(t.$t("元")),1)])])),e("dd",ue,[e("ul",_e,[e("li",re,[e("span",ce,i(t.$t("运费")),1),me,s(R,{modelValue:t.productFreightInfo.district_info,"onUpdate:modelValue":y[0]||(y[0]=u=>t.productFreightInfo.district_info=u),options:t.areaList,props:{label:"label",value:"value"},onChange:r.areaCheng},null,8,["modelValue","options","onChange"]),e("span",pe,[g("   "),e("span",{innerHTML:t.productFreightInfo.content},null,8,he)])])])]),t.itemRow.product_spec?(l(),d("label",fe,[(l(!0),d(w,null,D(t.itemRow.product_spec,(u,p)=>(l(),d("dd",{key:p,class:"goods-info-head-size clearfix attributes","data-spec-id":"1003"},[e("span",{class:"label text-auto-w fl",title:u.name},i(u.name),9,ve),ge,e("ul",ye,[(l(!0),d(w,null,D(u.item,(v,q)=>(l(),d("li",{key:q,class:N(["colorli",t.itemRow.item_spec[p].item.id==v.id?"selected current":t.itemRow.spec_item_map[v.id]?"":"item_disabled"]),onClick:Ge=>r.selectItem(p,q)},[e("a",{href:"javascript:void(0);",class:N(["item goodsStyle",{item_disabled:!t.itemRow.spec_item_map[v.id]}]),title:v.name},[t.itemRow.product_spec_image_row[v.id]?(l(),d("img",{key:0,class:"square",style:{width:"38px",height:"38px"},alt:v.name,title:"spec_item_row.name",src:t.itemRow.product_spec_image_row[v.id]},null,8,Re)):(l(),d("span",Ee,i(v.name),1))],10,Fe)],10,we))),128)),g("   ")])]))),128))])):h("",!0),e("dd",be,[e("ul",ke,[e("li",null,[e("span",Ce,i(t.$t("数量")),1),Ae,e("span",De,[s(c,{min:1,max:t.itemRow.item_quantity,modelValue:t.cart_quantity,"onUpdate:modelValue":y[1]||(y[1]=u=>t.cart_quantity=u),size:"large"},null,8,["max","modelValue"])]),e("span",Ie,i(t.$t("库存"))+"("+i(t.itemRow.item_quantity)+")",1)])])]),e("dd",Be,[r.StateCode.PRODUCT_KIND_ENTITY==t.itemRow.kind_id?(l(),d("label",Te,[t.itemRow.activity_type_id&&t.itemRow.activity_type_id==r.StateCode.ACTIVITY_TYPE_GROUPBOOKING?(l(),$(F,{key:0,type:"success",size:"small",class:"goods-info-buttom"},{default:o(()=>[$e,g(i(t.$t("立即开团")),1)]),_:1})):t.itemRow.activity_type_id&&t.itemRow.activity_type_id==r.StateCode.ACTIVITY_TYPE_GROUPBUY_STORE?(l(),$(F,{key:1,type:"success",size:"small",class:"goods-info-buttom"},{default:o(()=>[Se,g(i(t.$t("参团购买")),1)]),_:1})):(l(),d("label",Pe,[s(F,{type:"danger",size:"small",class:"goods-info-buttom",onClick:r.addCartItem},{default:o(()=>[qe,g(i(t.$t("加入购物车")),1)]),_:1},8,["onClick"])]))])):h("",!0),e("label",null,[s(F,{title:t.state_id?"":"商品已经下架",disabled:!t.state_id,type:"success",size:"small",class:"goods-info-buttom",onClick:y[2]||(y[2]=u=>r.buynow())},{default:o(()=>[Ve,g(i(t.$t("立即购买")),1)]),_:1},8,["title","disabled"])]),t.user_is_pt==1?(l(),d("label",Ne,[s(F,{type:"danger",size:"small",class:"goods-info-buttom"},{default:o(()=>[Oe,g(i(t.$t("加入小店")),1)]),_:1})])):h("",!0)]),e("dd",ze,[s(A,{class:"ml10",to:{path:"/product/lists",query:{category_id:t.itemRow.category_id}}},{default:o(()=>[Le,g(" "+i(t.itemRow.category_name),1)]),_:1},8,["to"])])]),Ue])])])])])])])])])),[[E,t.loading]])])}const ui=lt(dt,[["render",Ye],["__scopeId","data-v-c8ee609c"]]);export{ui as _};
