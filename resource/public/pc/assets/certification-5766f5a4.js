import{P as y,a4 as $,g as I,f as g,r as S,$ as _,i as k,t as U,dZ as R,T as C,d_ as V,n as N,p as i,v as n,x as a,A as t,F as T,D as B,y as s,z as o,E as v,I as b,V as w,W as O,L as q,J as P,K as L}from"./index-21964c78.js";import{a as M,E as z}from"./form-item-8d3c5b0e.js";/* empty css               */import{E as J}from"./progress-e31fb86a.js";/* empty css             *//* empty css              */import{C as K,S as W}from"./index-f12e260f.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";import"./castArray-18b00898.js";import"./_baseClone-42b68cca.js";import"./_Uint8Array-4a48d71f.js";import"./_initCloneObject-dc96d043.js";import"./cloneDeep-9c8ed640.js";import"./isEqual-3f4e7b62.js";const Z=y({components:{Plus:$},setup(){const{token:e}=I();let r=g({certificate:{},uploadUrl:K.URL.upload_file,uploadData:{perm_key:e}});const D=S();let d=g({user_realname:"",user_idcard:"",user_idcard_images_1:"",user_idcard_images_2:""});const A=g({user_realname:[{required:!0,message:_("请输入真实姓名"),trigger:"blur"}],user_idcard:[{required:!0,message:_("请输入身份证号码"),trigger:"blur"}],user_idcard_images_1:[{required:!0,message:_("请上传身份证照片"),trigger:"blur"}],user_idcard_images_2:[{required:!0,message:_("请上传身份证照片"),trigger:"blur"}]}),E=()=>{R({}).then(u=>{u.status==200?r.certificate=u.data:C.error(msg),r.loading=!1})},m=(u,l)=>{d.user_idcard_images_1=l.response.data.url},c=(u,l)=>{d.user_idcard_images_2=l.response.data.url},p=()=>{let u={user_realname:d.user_realname,user_idcard:d.user_idcard,user_idcard_images:d.user_idcard_images_1+","+d.user_idcard_images_2};V(u).then(l=>{l.status==200?(C.success(_("操作成功")),E()):C.error(msg),r.loading=!1})},f=u=>{u&&u.validate(l=>{if(l)console.log("submit!"),p();else return console.log("error submit!"),!1})};return k(()=>{E()}),{StateCode:W,form:d,rules:A,ruleFormRef:D,submitForm:f,handleAvatarSuccess1:m,handleAvatarSuccess2:c,...U(r)}}});const j=e=>(w("data-v-513f877d"),e=e(),O(),e),G={class:"tab-content pd0 pt20"},H={class:"animation-slide-left tab-message active",id:"account_content"},Q={class:"row"},X={class:"col-sm-12"},x={class:"col-sm-12 mt20"},ee={key:0,id:"certification_no"},ae={class:"alert alert-info"},ue=j(()=>a("br",null,null,-1)),se=["src"],re=["src"],te={key:1,id:"certification_verify",class:"alert alert-info"},oe={key:1,class:""},le={border:"0",cellpadding:"0",cellspacing:"0",class:"table table-bordered table-responsive cart_summary"},ie={colspan:"2"};function de(e,r,D,d,A,E){const m=q,c=z,p=N("Plus"),f=P,u=J,l=L,h=M;return i(),n("div",G,[a("div",H,[a("div",Q,[a("div",X,[a("h2",null,t(e.$t("实名认证")),1)]),a("div",x,[e.certificate.user_certification==e.StateCode.USER_CERTIFICATION_NO||e.certificate.user_certification==e.StateCode.USER_CERTIFICATION_VERIFY?(i(),n(T,{key:0},[e.certificate.user_certification==e.StateCode.USER_CERTIFICATION_NO?(i(),n("div",ee,[a("div",ae,[a("strong",null,t(e.$t("提示"))+"：",1),B(t(e.$t("设置身份信息请务必准确填写本人的身份信息，注册后不能更改，隐私信息未经本人许可严格保密。")),1),ue,B(" "+t(e.$t("若你的身份信息和支付身份信息不一致，将会自动关闭已开通的提现服务。")),1)]),s(h,{ref:"ruleFormRef",model:e.form,rules:e.rules,"label-width":"120px"},{default:o(()=>[s(c,{label:e.$t("真实姓名"),prop:"user_realname"},{default:o(()=>[s(m,{modelValue:e.form.user_realname,"onUpdate:modelValue":r[0]||(r[0]=F=>e.form.user_realname=F)},null,8,["modelValue"])]),_:1},8,["label"]),s(c,{label:e.$t("身份证号码"),prop:"user_idcard"},{default:o(()=>[s(m,{modelValue:e.form.user_idcard,"onUpdate:modelValue":r[1]||(r[1]=F=>e.form.user_idcard=F)},null,8,["modelValue"])]),_:1},8,["label"]),s(c,{label:e.$t("身份证照片"),prop:"user_idcard_images_1"},{default:o(()=>[s(u,{class:"avatar-uploader","show-file-list":!1,"on-success":e.handleAvatarSuccess1,name:"upfile",data:e.uploadData,action:e.uploadUrl},{default:o(()=>[e.form.user_idcard_images_1?(i(),n("img",{key:0,src:e.form.user_idcard_images_1,class:"avatar"},null,8,se)):(i(),b(f,{key:1,class:"avatar-uploader-icon"},{default:o(()=>[s(p)]),_:1}))]),_:1},8,["on-success","data","action"]),s(u,{class:"avatar-uploader","show-file-list":!1,"on-success":e.handleAvatarSuccess2,name:"upfile",data:e.uploadData,action:e.uploadUrl},{default:o(()=>[e.form.user_idcard_images_2?(i(),n("img",{key:0,src:e.form.user_idcard_images_2,class:"avatar"},null,8,re)):(i(),b(f,{key:1,class:"avatar-uploader-icon"},{default:o(()=>[s(p)]),_:1}))]),_:1},8,["on-success","data","action"])]),_:1},8,["label"]),s(c,null,{default:o(()=>[s(l,{type:"primary",onClick:r[2]||(r[2]=F=>e.submitForm(e.ruleFormRef))},{default:o(()=>[B(t(e.$t("确定")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])])):v("",!0),e.certificate.user_certification?(i(),n("div",te,t(e.$t("已身份信息已提交，正在审核中！")),1)):v("",!0)],64)):(i(),n("div",oe,[a("table",le,[a("thead",null,[a("tr",null,[a("th",ie,t(e.$t("已通过实名认证")),1)])]),a("tbody",null,[a("tr",null,[a("td",null,t(e.$t("姓名")),1),a("td",null,t(e.certificate.user_realname),1)]),a("tr",null,[a("td",null,t(e.$t("18位身份证号")),1),a("td",null,t(e.certificate.user_idcard),1)])])])]))])])])])}const be=Y(Z,[["render",de],["__scopeId","data-v-513f877d"]]);export{be as default};
