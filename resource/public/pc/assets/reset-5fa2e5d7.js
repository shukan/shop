import{P as c,r as B,u as _,f as m,$ as a,ao as g,T as i,p as b,v as h,y as s,z as t,D as $,A as E,L as C,K as V}from"./index-21964c78.js";import{a as y,E as k}from"./form-item-8d3c5b0e.js";/* empty css               *//* empty css              */import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";import"./castArray-18b00898.js";import"./_baseClone-42b68cca.js";import"./_Uint8Array-4a48d71f.js";import"./_initCloneObject-dc96d043.js";const R=c({setup(){const e=B();_();let r=m({old_password:"",password:"",check_password:""});const d=(p,l,o)=>{l===""?o(new Error(a("请再次输入新密码"))):(r.check_password!==r.password&&o(new Error(a("两次输入密码不一致"))),o())},n=m({old_password:[{required:!0,message:a("请输入原密码"),trigger:"blur"}],password:[{required:!0,message:a("请输入新密码"),trigger:"blur"}],check_password:[{required:!0,message:a("请再次输入新密码"),trigger:"blur"},{validator:d,trigger:"blur"}]});return{ruleFormRef:e,ruleForm:r,rules:n,submitForm:p=>{p&&p.validate(l=>{if(l)g(r).then(o=>{o.status==200?(i.success(a("密码修改成功!")),r.old_password="",r.password="",r.check_password=""):i.error(o.msg)});else return console.log("error submit!"),!1})}}}}),q={class:"account-container"};function A(e,r,d,n,w,p){const l=C,o=k,f=V,F=y;return b(),h("div",q,[s(F,{ref:"ruleFormRef",rules:e.rules,model:e.ruleForm,"label-position":"left","label-width":"140px"},{default:t(()=>[s(o,{label:e.$t("原密码"),prop:"old_password"},{default:t(()=>[s(l,{modelValue:e.ruleForm.old_password,"onUpdate:modelValue":r[0]||(r[0]=u=>e.ruleForm.old_password=u),class:"input-style",placeholder:e.$t("请输入原密码"),type:"password","show-password":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),s(o,{label:e.$t("新登录密码"),prop:"password"},{default:t(()=>[s(l,{modelValue:e.ruleForm.password,"onUpdate:modelValue":r[1]||(r[1]=u=>e.ruleForm.password=u),class:"input-style",placeholder:e.$t("请输入新密码"),type:"password","show-password":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),s(o,{label:e.$t("确认密码"),prop:"check_password"},{default:t(()=>[s(l,{modelValue:e.ruleForm.check_password,"onUpdate:modelValue":r[2]||(r[2]=u=>e.ruleForm.check_password=u),class:"input-style",placeholder:e.$t("请重新输入新密码"),type:"password","show-password":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),s(o,null,{default:t(()=>[s(f,{type:"primary",onClick:r[3]||(r[3]=u=>e.submitForm(e.ruleFormRef))},{default:t(()=>[$(E(e.$t("确认修改")),1)]),_:1})]),_:1})]),_:1},8,["rules","model"])])}const M=v(R,[["render",A]]);export{M as default};
