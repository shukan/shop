import{P as I,u as w,f as y,i as V,t as k,a5 as x,a6 as B,T as C,n as P,p as n,v as l,x as t,A as d,O as z,F as g,C as T,I as $,y as c,z as D,X as S,D as j}from"./index-21964c78.js";import{v as A}from"./loading-9a2abf10.js";import{E as L}from"./overlay-b290a267.js";import{_ as U}from"./Quick-23459fd5.js";import{E as M}from"./empty-dc50944b.js";import{E as N}from"./pagination-85e496af.js";/* empty css              */import"./tag-b8b29d1f.js";import"./select-ed2293fb.js";import"./scrollbar-c1d26490.js";import"./popper-251c4401.js";import{E as J}from"./image-viewer-dd6920ac.js";import{l as Q}from"./activity-5ce79272.js";import{b as q}from"./product-4d2f9c7a.js";import{S as O}from"./index-f12e260f.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import"./refs-1278d799.js";import"./isUndefined-aa0326a0.js";/* empty css               */import"./input-number-2592ba06.js";import"./index-a2686495.js";import"./cascader-panel-e311c1a6.js";import"./checkbox-85319853.js";import"./isEqual-3f4e7b62.js";import"./_Uint8Array-4a48d71f.js";import"./hasIn-54cf4aec.js";import"./flatten-3a6a3668.js";import"./radio-30ecb740.js";import"./rand-14326ce1.js";import"./strings-b80b2625.js";import"./arrays-e667dc24.js";import"./cloneDeep-9c8ed640.js";import"./_baseClone-42b68cca.js";import"./_initCloneObject-dc96d043.js";import"./index-a2bc563c.js";import"./debounce-6ea0a711.js";import"./main-34db54b3.js";import"./row-d248ec80.js";import"./constants-2604e35b.js";import"./col-d6038888.js";import"./Index-c0d55bc5.js";import"./_baseIteratee-8f2ec951.js";const W=I({setup(){const s=w();let i=y({listsDiscount:[],floor:{},category:[],assist:[],loading:!0,status:!1,isdata:!0,total:1,dialogVisible:!1,item_id:0}),p=y({page:1,size:36,activity_type_id:O.ACTIVITY_TYPE_LIMITED_DISCOUNT,activity_state:1});const u=()=>{Q(p).then(e=>{if(e.status==200){let a=e.data;a.items&&a.items.length>0?(i.listsDiscount=a.activity_item_rows,i.total=a.records):i.isdata=!1}else i.isdata=!1;i.loading=!1})},h=e=>{x({item_id:e,cart_quantity:1,SKU_Id:e}).then(r=>{if(r.status==200){let _='<div class="row"><div class="buy-succ-box clearfix"> <div class="goods-content  col-xs-12" id="J_goodsBox" style="margin:0;"> <div class="goods-img"> <img src="'+r.data.product_image+'" width="64" height="64"> </div> <div class="goods-info"> <h3>已成功加入购物车！</h3> <span class="name"> '+r.data.item_name+'  </span>     </div></div>                                    <div class="actions J_actBox  col-xs-12  text-center">                                        <p class="hide J_notic">有商品未成功加入购物车，可以在购物车中查看</p>                                                                                                                 </div>                                </div>                            </div>';B.confirm(_,{confirmButtonText:"去购物车结算",cancelButtonText:"继续购物",dangerouslyUseHTMLString:!0,center:!0}).then(()=>{s.push({path:"/cart/order"})})}})},f=e=>{q({item_id:e,action:"item"}).then(r=>{r.status==200?C({type:"success",message:"收藏成功"}):C.error(msg)})},m=e=>{i.item_id=e,i.dialogVisible=!0};return V(()=>{u()}),{getProductLists:u,addCartItem:h,showQuick:m,addWish:f,...k(i),...k(p)}}}),Y={id:"page-container"},H={class:"columns-container"},K={class:"container columns"},X={class:"breadcrumb clearfix"},G=["title"],Z=t("span",{class:"navigation-pipe"}," ",-1),tt={class:"navigation_page"},st={class:"container J_category category-index"},it={class:"row product-list grid"},ot={class:"product-container"},et={class:"left-block figure-img"},at={class:"quick-view"},rt=["onClick"],nt=t("a",{title:"Add to compare",class:"compare",href:"#","data-item_id":"352"},null,-1),lt=["onClick"],dt={class:"add-to-cart"},ct=["onClick"],pt=t("div",{class:"flags"},null,-1),ut={class:"right-block"},mt={class:"product-name text-center"},_t={"data-pjax":"#page-container",href:"https://test.shopsuite.cn/i/352"},gt=S('<div class="product-star hide"><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="font fa fastar-half-o"></i></div>',1),ht={class:"text-center"},ft={class:"price product-price"},vt={class:"price old-price"},yt=t("div",{class:"info-orther"},[t("p",null,"商品号: #205"),t("p",{class:"availability"},[j("有货: "),t("span",null,"有货")]),t("div",{class:"product-desc"})],-1),kt={class:"sortPagiBar"},Ct={class:"bottom-pagination"},Dt={key:1};function Et(s,i,p,u,h,f){const m=J,e=P("router-link"),a=N,r=M,_=U,E=L,b=A;return n(),l(g,null,[t("div",Y,[t("div",H,[t("div",K,[t("div",X,[t("a",{class:"home",href:"https://test.shopsuite.cn/Index/index","data-pjax":"#page-container",title:s.$t("返回首页")},d(s.$t("首页")),9,G),Z,t("span",tt,d(s.$t("疯狂限时折扣")),1)])])]),z((n(),l("div",st,[s.isdata?(n(),l(g,{key:0},[t("ul",it,[(n(!0),l(g,null,T(s.listsDiscount,(o,F)=>(n(),l("li",{class:"col-xs-6 col-sm-4 col-md-2 product-item",key:F},[t("div",ot,[t("div",et,[c(e,{to:{path:"/product/detail",query:{item_id:o.item_id}},class:"item_link","data-pjax":"#page-container"},{default:D(()=>[c(m,{class:"img-responsive",src:o.product_image,style:{width:"185px",height:"194.61px",display:"block"},fit:"cover"},null,8,["src"])]),_:2},1032,["to"]),t("div",at,[t("a",{title:"",class:"heart item",href:"javascript: void(0);",onClick:v=>s.addWish(o.item_id)},null,8,rt),nt,t("a",{title:"Quick view",class:"search fancybox.ajax",href:"javascript: void(0);",onClick:v=>s.showQuick(o.item_id)},null,8,lt)]),t("div",dt,[t("a",{title:"加入购物车",href:"javascript: void(0);",onClick:v=>s.addCartItem(o.item_id)},"加入购物车",8,ct)]),pt]),t("div",ut,[t("h5",mt,[t("a",_t,d(o.product_name),1)]),gt,t("div",ht,[t("span",ft,"￥"+d(o.item_unit_price),1),t("span",vt,"￥"+d(o.item_market_price),1)]),yt])])]))),128))]),t("div",kt,[t("div",Ct,[t("nav",null,[(n(),$(a,{currentPage:s.page,"onUpdate:currentPage":i[0]||(i[0]=o=>s.page=o),"page-size":s.size,"onUpdate:pageSize":i[1]||(i[1]=o=>s.size=o),"page-sizes":[36,72,108,144],small:!1,disabled:!1,background:!0,layout:"prev,pager,next,total,jumper",total:s.total,key:s.page,onSizeChange:i[2]||(i[2]=o=>{s.size==o,s.getProductLists()}),onCurrentChange:i[3]||(i[3]=o=>{s.page==o,s.getProductLists()})},null,8,["currentPage","page-size","total"]))])])])],64)):(n(),l("div",Dt,[c(r,{description:"对不起，暂无秒杀商品!"})]))])),[[b,s.loading]])]),c(E,{modelValue:s.dialogVisible,"onUpdate:modelValue":i[4]||(i[4]=o=>s.dialogVisible=o),width:"1200px",draggable:""},{default:D(()=>[c(_,{itemId:s.item_id},null,8,["itemId"])]),_:1},8,["modelValue"])],64)}const us=R(W,[["render",Et]]);export{us as default};
