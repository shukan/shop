import{P as w,e as x,f as D,a9 as P,t as B,T as g,a6 as C,p as l,v as _,x as t,O as E,y as n,A as c,z as v,X as j,K as k,F as V,C as A,I as F,D as I,V as z,W as N}from"./index-21964c78.js";import{v as S}from"./loading-9a2abf10.js";/* empty css               */import{E as T}from"./input-number-2592ba06.js";/* empty css              */import"./tag-b8b29d1f.js";import{E as J,a as M}from"./select-ed2293fb.js";import"./scrollbar-c1d26490.js";import"./popper-251c4401.js";import{E as R}from"./image-viewer-dd6920ac.js";import{a as L}from"./point-67678f10.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-a2686495.js";import"./strings-b80b2625.js";import"./isEqual-3f4e7b62.js";import"./_Uint8Array-4a48d71f.js";import"./debounce-6ea0a711.js";import"./_baseIteratee-8f2ec951.js";import"./hasIn-54cf4aec.js";import"./index-a2bc563c.js";import"./isUndefined-aa0326a0.js";const q=w({setup(){const e=x();let o=D({PointDetail:[],loading:!0,item_id:0,product_id:0,addressRows:[],address:"",ud_id:0,buynum:1});const p=()=>{let a={item_id:o.item_id,product_id:o.product_id};L(a).then(d=>{d.status==200?(o.addressRows=d.data.user_address_row,o.PointDetail=d.data.item_row):g.error("获取数据失败"),o.loading=!1})},u=a=>{o.ud_id=a},m=()=>{},h=()=>{if(!o.ud_id){g.error("请选择收货地址!");return}o.ud_id,o.buynum,o.PointDetail.activity_item_row.activity_item_id,o.PointDetail.activity_type_id},r=()=>{C.confirm("确认兑换?",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(()=>{h()})};return P(()=>{o.item_id=e.query.item_id,o.product_id=e.query.product_id,p()}),{selectAddress:u,handleChange:m,confirm:r,...B(o)}}});const i=e=>(z("data-v-e53bec55"),e=e(),N(),e),H={id:"page-container"},O={class:"goods-detail",id:"product"},U={class:"goods-detail-info clearfix J_goodsDetail"},K={class:"container"},W={class:"row"},X={class:"col-xs-12 col-sm-6 col-md-4 J_mi_goodsPic_block goods-detail-left-info pb-left-column"},G={class:"product-image"},Q={class:"product-full"},Y=j('<div class="product-img-thumb" id="gallery_01" data-v-e53bec55><ul class="owl-carousel owl-loaded owl-drag" data-items="4" data-nav="true" data-dots="false" data-margin="21" data-loop="false" data-v-e53bec55><div class="owl-stage-outer" data-v-e53bec55><div class="owl-stage" style="transform:translate3d(0px, 0px, 0px);transition:all 0s ease 0s;width:191px;" data-v-e53bec55><div class="owl-item active" style="width:74.25px;margin-right:21px;" data-v-e53bec55><li data-v-e53bec55><a href="#" data-image="https://test.shopsuite.cn/image.php/shop/data/upload/media/store/1009/image/20190425/1556156690434417.jpg!420x420.jpg" data-zoom-image="https://test.shopsuite.cn/image.php/shop/data/upload/media/store/1009/image/20190425/1556156690434417.jpg!800x800.jpg" data-v-e53bec55><img id="product-zoom" src="https://test.shopsuite.cn/image.php/shop/data/upload/media/store/1009/image/20190425/1556156690434417.jpg!75x75.jpg" data-v-e53bec55></a></li></div><div class="owl-item active" style="width:74.25px;margin-right:21px;" data-v-e53bec55><li data-v-e53bec55><a href="#" data-image="https://test.shopsuite.cn/image.php/shop/data/upload/media/store/1009/image/20190425/1556156695434353.jpg!420x420.jpg" data-zoom-image="https://test.shopsuite.cn/image.php/shop/data/upload/media/store/1009/image/20190425/1556156695434353.jpg!800x800.jpg" data-v-e53bec55><img id="product-zoom" src="https://test.shopsuite.cn/image.php/shop/data/upload/media/store/1009/image/20190425/1556156695434353.jpg!75x75.jpg" data-v-e53bec55></a></li></div></div></div><div class="owl-nav disabled" data-v-e53bec55><div class="owl-prev disabled" data-v-e53bec55><i class="fa fa-angle-left" data-v-e53bec55></i></div><div class="owl-next disabled" data-v-e53bec55><i class="fa fa-angle-right" data-v-e53bec55></i></div></div><div class="owl-dots disabled" data-v-e53bec55></div></ul></div>',1),Z={class:"col-xs-12 col-sm-6 col-md-8 goods-info-rightbox"},tt=i(()=>t("div",{class:"goods-info-leftborder"},null,-1)),et={class:"goods-info-box"},ot={class:"goods-info-head"},st={id:"item_info_block"},it={class:"row"},at={class:"col-md-9 col-sm-12 col-xs-12",style:{"margin-top":"50px","margin-left":"50px"}},dt={class:"row"},lt={class:"col-xs-12",style:{padding:"0"}},nt={id:"goodsName",class:"goods-name"},ct={class:"goods-subtitle"},rt={class:"goods-info-head-price mt0 clearfix"},_t={class:"J_mi_goodsPrice"},pt=i(()=>t("i",null,"   积分",-1)),ut={class:"J_mi_marketPrice"},mt={class:"goods-info-head-line"},ht={class:"clearfix"},gt={id:"district_box",style:{position:"relative"}},vt=i(()=>t("span",{class:"label"},"收货地址：",-1)),ft={class:"cont"},bt={class:"goods-info-head-line"},yt={class:"clearfix"},wt=i(()=>t("span",{class:"label pull-left"},"兑换数量：",-1)),xt={class:"cont pull-left"},Dt={class:"goods-info-head-cart"},Pt=i(()=>t("i",{class:"fa fa-cart-plus"},null,-1)),Bt=i(()=>t("dd",{class:"goods-info-foot"},null,-1)),Ct=i(()=>t("div",{class:"col-md-3 col-sm-12 col-xs-12 column left_column hidden-xs hidden-sm"},[t("div",{class:"category row"},[t("ul",{class:"product-list"})])],-1)),Et={class:"goods-detail-desc J_itemBox",id:"goodsDesc","data-index":"0"},jt={class:"row"},kt={class:"shape-container"},Vt=["innerHTML"];function At(e,o,p,u,m,h){const r=R,a=M,d=J,f=T,b=k,y=S;return l(),_("div",H,[t("div",O,[t("div",U,[E((l(),_("div",K,[t("div",W,[t("div",X,[t("div",G,[t("div",Q,[n(r,{id:"product-zoom",src:e.PointDetail.item_image_row[0]},null,8,["src"])]),Y])]),t("div",Z,[tt,t("div",et,[t("div",ot,[t("dl",st,[t("div",it,[t("div",at,[t("div",dt,[t("div",lt,[t("dt",nt,c(e.PointDetail.product_item_name),1),t("dd",ct,[t("p",null,c(e.PointDetail.product_tips),1)])])]),t("dd",rt,[t("b",_t,c(e.PointDetail.activity_item_row.activity_points_num?e.PointDetail.activity_item_row.activity_points_num:e.PointDetail.item_unit_price),1),pt,t("del",null,[t("span",ut,c(e.PointDetail.item_market_price?e.PointDetail.item_market_price:e.PointDetail.item_unit_price)+"元",1)])]),t("dd",mt,[t("ul",ht,[t("li",gt,[vt,t("span",ft,[n(d,{modelValue:e.address,"onUpdate:modelValue":o[0]||(o[0]=s=>e.address=s),placeholder:"请选择收货地址",onChange:e.selectAddress},{default:v(()=>[(l(!0),_(V,null,A(e.addressRows,s=>(l(),F(a,{key:s.ud_id,label:s.ud_province+s.ud_city+s.ud_county,value:s.ud_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])])])])]),t("dd",bt,[t("ul",yt,[t("li",null,[wt,t("span",xt,[n(f,{modelValue:e.buynum,"onUpdate:modelValue":o[1]||(o[1]=s=>e.buynum=s),min:1,max:e.PointDetail.item_quantity10,onChange:e.handleChange},null,8,["modelValue","max","onChange"])])])])]),t("dd",Dt,[n(b,{type:"danger",size:"",class:"goods-info-buttom",onClick:e.confirm},{default:v(()=>[Pt,I("立即兑换")]),_:1},8,["onClick"])]),Bt]),Ct])])])])]),t("div",Et,[t("div",jt,[t("div",kt,[t("p",{class:"detailBlock",innerHTML:e.PointDetail.product_detail},null,8,Vt)])])])])])),[[y,e.loading]])])])])}const Zt=$(q,[["render",At],["__scopeId","data-v-e53bec55"]]);export{Zt as default};
