import{P as w,ag as L,_ as P,f,i as U,t as E,T as d,$ as m,n as C,p as l,v as r,x as c,y as i,z as s,I as $,E as y,K as F,D as N,A as u,J as T}from"./index-21964c78.js";import{E as M}from"./overlay-b290a267.js";import{_ as S}from"./Manage-f169baad.js";import{E as R}from"./pagination-85e496af.js";/* empty css              */import"./tag-b8b29d1f.js";import"./select-ed2293fb.js";import"./scrollbar-c1d26490.js";import"./popper-251c4401.js";import{E as j,a as J}from"./table-column-af2cc573.js";import"./checkbox-85319853.js";/* empty css                *//* empty css             *//* empty css               */import{i as k,a as K}from"./invoice-b9863122.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import"./refs-1278d799.js";import"./isUndefined-aa0326a0.js";import"./form-item-8d3c5b0e.js";import"./castArray-18b00898.js";import"./_baseClone-42b68cca.js";import"./_Uint8Array-4a48d71f.js";import"./_initCloneObject-dc96d043.js";/* empty css                    */import"./radio-30ecb740.js";import"./isEqual-3f4e7b62.js";import"./strings-b80b2625.js";import"./debounce-6ea0a711.js";import"./_baseIteratee-8f2ec951.js";import"./hasIn-54cf4aec.js";import"./index-a2bc563c.js";import"./flatten-3a6a3668.js";const G=w({methods:{invoiceList:k},components:{Edit:L,Delete:P},setup(){let e=f({dialogVisible:!1,invoiceLists:[],user_invoice_id:0,total:0}),t=f({page:1,size:36}),g=n=>{K({user_invoice_id:n}).then(a=>{a.status==200?(d(m("删除成功")),p()):d.error(m("删除发票失败")),e.dialogVisible=!1})},p=()=>{k({}).then(n=>{n.status==200?(e.invoiceLists=n.data.items,e.total=n.records):d.error(m("获取数据失败"))})};const v=()=>{e.dialogVisible=!1,p()},_=n=>{e.user_invoice_id=n,e.dialogVisible=!0};return U(()=>{p()}),{...E(e),...E(t),handleEdit:_,removeInvoice:g,updateInvoice:v,getInvoiceLists:p}}}),H={style:{"margin-top":"35px"}},O={class:"btn-box"},Q={key:0},W={key:1},X={key:0},Y={key:1},Z={key:0,class:"sortPagiBar"},x={class:"bottom-pagination"};function ee(e,t,g,p,v,_){const n=F,a=J,B=C("Edit"),b=T,V=C("Delete"),D=j,h=R,A=S,I=M;return l(),r("div",H,[c("div",O,[i(n,{class:"operate-btn",size:"small",onClick:t[0]||(t[0]=o=>e.handleEdit(0))},{default:s(()=>[N(u(e.$t("+新增发票抬头")),1)]),_:1})]),i(D,{class:"default-table",data:e.invoiceLists,style:{width:"100%","margin-top":"15px"}},{default:s(()=>[i(a,{align:"center",prop:"invoice_type",label:e.$t("发票类型")},{default:s(({row:o})=>[o.invoice_type==1?(l(),r("span",Q,u(e.$t("普通发票")),1)):(l(),r("span",W,u(e.$t("增值税专用发票")),1))]),_:1},8,["label"]),i(a,{align:"center",prop:"invoice_title",label:e.$t("发票抬头"),width:"120"},null,8,["label"]),i(a,{align:"center",prop:"invoice_is_company",label:e.$t("个人/企业"),width:"120"},{default:s(({row:o})=>[o.invoice_is_company==1?(l(),r("span",X,u(e.$t("企业")),1)):(l(),r("span",Y,u(e.$t("个人")),1))]),_:1},8,["label"]),i(a,{align:"center",prop:"invoice_company_code",label:e.$t("纳税人识别号"),width:"120"},null,8,["label"]),i(a,{align:"center",prop:"invoice_phone",label:e.$t("注册电话"),width:"130"},null,8,["label"]),i(a,{align:"center",prop:"invoice_address",label:e.$t("注册地址"),width:"120"},null,8,["label"]),i(a,{align:"center",label:e.$t("操作"),width:"124"},{default:s(({row:o})=>[i(b,{class:"edit-icon",onClick:z=>e.handleEdit(o.user_invoice_id)},{default:s(()=>[i(B)]),_:2},1032,["onClick"]),i(b,{class:"delete-icon",onClick:z=>e.removeInvoice(o.user_invoice_id)},{default:s(()=>[i(V)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"]),e.total>0?(l(),r("div",Z,[c("div",x,[c("nav",null,[(l(),$(h,{currentPage:e.page,"onUpdate:currentPage":t[1]||(t[1]=o=>e.page=o),"page-size":e.size,"onUpdate:pageSize":t[2]||(t[2]=o=>e.size=o),"page-sizes":[36,72,108,144],small:!1,disabled:!1,background:!0,layout:"prev,pager,next,total,jumper",total:e.total,key:e.page,onSizeChange:t[3]||(t[3]=o=>{e.size=o,e.getInvoiceLists()}),onCurrentChange:t[4]||(t[4]=o=>{e.page=o,e.getInvoiceLists()})},null,8,["currentPage","page-size","total"]))])])])):y("",!0),i(I,{modelValue:e.dialogVisible,"onUpdate:modelValue":t[6]||(t[6]=o=>e.dialogVisible=o),width:"700px",draggable:""},{default:s(()=>[e.dialogVisible?(l(),$(A,{key:0,onUpdate:e.updateInvoice,invoiceId:e.user_invoice_id,onCancel:t[5]||(t[5]=o=>e.dialogVisible=!1)},null,8,["onUpdate","invoiceId"])):y("",!0)]),_:1},8,["modelValue"])])}const Pe=q(G,[["render",ee]]);export{Pe as default};
