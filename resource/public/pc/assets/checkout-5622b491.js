import{_ as ue}from"./Manage-f169baad.js";import{M as ae,N as ne,Z as le,_ as ce,a0 as _e,b as me,S as pe,e as Ae,u as he,g as ve,f as W,i as ge,t as j,T as F,a1 as fe,$ as ye,n as Y,p as u,v as l,x as o,y as h,z as E,A as t,E as p,F as N,C as M,G as w,D as g,J as Ee,K as Ce,I as J,V as Re,W as Fe,L as Be}from"./index-21964c78.js";import{E as ke}from"./overlay-b290a267.js";import{_ as we}from"./Edit-5d7d57c0.js";/* empty css               *//* empty css              */import{E as Qe}from"./tag-b8b29d1f.js";import{_ as De}from"./MsActivityTag-20637b5a.js";import{E as Ie}from"./image-viewer-dd6920ac.js";import{E as be,a as Se}from"./step-fc04c36a.js";/* empty css             */import{a as Ve}from"./order-09ce62cc.js";import{i as Ue}from"./invoice-b9863122.js";import{g as Ge}from"./product-4d2f9c7a.js";import{h as z}from"./helper-0ec263a7.js";import{S as Ne}from"./index-f12e260f.js";import{_ as Me}from"./Img-77e61dbf.js";import{E as Je}from"./index-958427bc.js";import{_ as qe}from"./_plugin-vue_export-helper-c27b6911.js";import"./form-item-8d3c5b0e.js";import"./castArray-18b00898.js";import"./_baseClone-42b68cca.js";import"./_Uint8Array-4a48d71f.js";import"./_initCloneObject-dc96d043.js";/* empty css                    */import"./radio-30ecb740.js";import"./refs-1278d799.js";import"./isUndefined-aa0326a0.js";import"./cascader-panel-e311c1a6.js";import"./scrollbar-c1d26490.js";import"./checkbox-85319853.js";import"./isEqual-3f4e7b62.js";import"./hasIn-54cf4aec.js";import"./flatten-3a6a3668.js";import"./rand-14326ce1.js";import"./strings-b80b2625.js";import"./arrays-e667dc24.js";import"./cloneDeep-9c8ed640.js";import"./popper-251c4401.js";import"./index-a2bc563c.js";import"./debounce-6ea0a711.js";import"./select-ed2293fb.js";import"./_baseIteratee-8f2ec951.js";import"./index-a7a3c269.js";import"./dayjs.min-8a7592b2.js";import"./progress-e31fb86a.js";async function He(e){return ae({url:ne.URL.store.getNearChain,method:"get",params:e})}const Le={name:"checkout",components:{Img:Me,EditPen:le,Delete:ce,CirclePlusFilled:_e,ArrowRight:me,LocationFilled:pe},setup(){const e=Ae(),_=he(),K=ve();let a=new Date,C=new Date(new Date().getTime()+2*24*60*60*1e3),I=new Date;a.getFullYear()+""+(a.getMonth()+1)+a.getDate(),C.getFullYear()+""+(C.getMonth()+1<10?"0"+(C.getMonth()+1):C.getMonth()+1)+(C.getDate()<10?"0"+C.getDate():C.getDate()),I.getFullYear()+1+""+(I.getMonth()+1)+I.getDate();let q=a.getHours()+":"+a.getMinutes(),r=W({chain_id:0,cart_id:e.query.cart_id||"",delivery_type_id:10,is_delivery:1,user_voucher_ids:"",redemption_ids:"",ud_id:0,payment_type_id:1302,order_message:{}}),i=W({addressRow:[],cartStoreItems:[],product_rent_pay_type:{},product_rent_shippend_type:{},voucherItems:[],isPage:!0,isData:!1,isMore:!1,drawer:!1,deliveryAddressRow:{},addr_ishide:!0,voucher_hide:!0,CartData:{},dialogVisible:!1,loading:!1,order_amount:0,voucher_items:[],voucher_index:-1,isInvoice:!1,invoice_type:2,invoice_mode:"personal",invoiceRows:[],chainRows:[],invoiceDialogVisible:!1,addressIndex:1,time_not_timer:[],time_hour:[],time_minute:[],product_service_date_flag:!1,isVirtual:!0,time:q,store_id:0,chooseVoucher:{}}),f=()=>{let s={};r.ifcart||(s=r,s.gb_id!=0&&delete s.gb_id),console.log(s),Ge(s).then(m=>{if(m.status==200){let c=m.data;if(i.CartData=c,i.cartStoreItems=c.items,i.voucherItems=c.voucher_items,i.deliveryAddressRow=c.user_delivery_address,i.order_amount=c.order_money_amount,i.time_not_timer=c.time_not_timer,i.time_hour=c.time_hour,i.time_minute=c.time_minute,c.if_virtual){let y=c.items[0].items[0];i.store_id=c.items[0].store_id,i.isVirtual=c.if_virtual,i.product_service_date_flag=y.product_service_date_flag}else c.items[0].items[0],i.isVirtual=c.if_virtual,i.product_service_date_flag=!0;i.deliveryAddressRow&&(r.ud_id=i.deliveryAddressRow.ud_id),V()}else F.error(m.msg);i.isPage=!1})};const R=()=>{i.invoiceDialogVisible=!1,Ue({}).then(s=>{s.status==200&&s.data.items.length>0&&(i.invoiceRows=s.data.items)})},b=()=>{fe({}).then(s=>{s.status==200?i.addressRow=s.data.items:F.error(ye("获取数据失败"))})},H=s=>{r.user_invoice_id=s,i.invoiceDialogVisible=!0,console.log(r.user_invoice_id)},L=(s,m)=>{i.voucher_items=s,i.voucher_id=m,i.drawer=!0};let S=()=>{if(!r.ud_id){F.error("请选择收货地址!");return}if(i.isVirtual){let s=r.virtual_service_date+" "+i.time,m=s.replace(/-/g,"/"),c=new Date,y=new Date(m),A=c.getTime();if(y.getTime()-A<0){F.error("您选择的预约时间已不在服务预约时间范围内!");return}if(i.product_service_date_flag&&(!r.virtual_service_date||!i.time)){F.error("请选择预约服务日期与时间!");return}}r.user_voucher_ids.length>0&&(r.val=JSON.stringify(i.CartData.voucher_items),r.user_voucher_ids=JSON.stringify(r.user_voucher_ids)),r.gb_id!=0&&delete r.gb_id,r.order_message=JSON.stringify(r.order_message),r.virtual_service_time=r.virtual_service_date+" "+i.time,i.loading=!0,Ve(r).then(s=>{let m=s.data;s.status==200?Je({title:"Success",message:"下单成功",type:"success",duration:1e3,onClose:function(){console.log(9999),_.push({path:"/user/order/confirmPay",query:{order_id:m.order_ids.join(",")}})}}):F.error(s.msg),i.loading=!1})},V=()=>{for(var s in i.addressRow);},O=s=>{r.chain_id=i.chainRows[s].chain_id};const $=s=>s.getTime()<Date.now(),U=s=>{var m=r.product_rent_starting_time,c=r.s_rent_time;return s.getTime()<c*1+(m-1)*24*60*60*1e3};let Z=s=>{r.ud_id=i.addressRow[s].ud_id,i.addr_ishide=!0,f()},d=s=>{r.user_voucher_ids=s.user_voucher_id,i.chooseVoucher=s,i.voucher_hide=!0,f()},B=()=>{i.addr_ishide=!1},n=()=>{i.addr_ishide=!0},Q=()=>{i.voucher_hide=!1},P=()=>{i.voucher_hide=!0},te=s=>{i.dialogVisible=!1,f()},oe=s=>{r.ud_id=s,i.dialogVisible=!0},ie=s=>{r.payment_type_id=s,r.payment_type_id==1305&&(r.check_rent_shippend_type=1002,r.delivery_type_id=5),f()},se=s=>{s==1002?(r.delivery_type_id=5,He({store_id:i.store_id}).then(m=>{console.log(m),m.status==200&&m.data.items.length>0&&(i.chainRows=m.data.items)})):(r.chain_id=0,r.delivery_type_id=10),s==1001&&r.payment_type_id==1305?F.error("线下交易只能选择门店自提"):(r.check_rent_shippend_type=s,f())};const re=s=>{if(!s){F.error("请选择要使用的优惠券");return}let m=i.voucherItems,c=r.user_voucher_ids;for(var y=0;y<m.length;y++)m[y].store_id,m[y].user_voucher_id==s.user_voucher_id?z.inArray(c,s.user_voucher_id)||c.push(s.user_voucher_id):z.arrayRemove(c,m[y].user_voucher_id);r.user_voucher_ids=c;let A=i.CartData,k=A.orderSelMoneyAmount;for(var v=0;v<A.items.length;v++)for(var X=0;X<A.items[v].voucher_items.length;X++){var G=A.items[v].voucher_items[X],T=G.user_voucher_id;if(A.items[v].voucher_use_row=[],A.items[v].user_voucher_id=0,z.inArray(c,T)){A.items[v].voucher_use_row=G,A.items[v].user_voucher_id=T,k=parseFloat((k-G.voucher_price).toFixed(12)),k=Math.max(0,k),A.items[v].store_amount=parseFloat((A.items[v].order_money_select_items+A.items[v].freight-G.voucher_price).toFixed(12)),A.items[v].store_amount=Math.max(0,A.items[v].store_amount);break}}console.log(A),i.CartData=A,i.order_amount=k,i.drawer=!1},de=s=>{i.voucher_index=s};return ge(()=>{f(),b(),R()}),{checkout:f,StateCode:Ne,counter:K,createOrder:S,selectedChain:O,selectedAddress:Z,selectedVoucher:d,getAddressList:b,moreAddress:B,collectAddress:n,moreVoucher:Q,collectVoucher:P,handleAddress:V,modifyAddress:oe,modifyPayType:ie,modifyShippendType:se,update:te,suitcouponlist:L,outputPrice:re,useSelectedCoupon:de,getInvoiceList:R,editInvoice:H,disabledDate:$,disabledDate1:U,...j(r),...j(i)}}},x=""+new URL("downward-26d6796f.png",import.meta.url).href,ee="data:image/png;base64,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";const D=e=>(Re("data-v-77eb8a5a"),e=e(),Fe(),e),Oe={id:"page-container"},$e={style:{width:"1200px",margin:"0 auto"}},Ze={class:"breadcrumb clearfix"},Xe={class:"space-icon"},Ye=["title"],ze={class:"container"},Ke={class:"content-progress-bar"},Pe={key:0,class:"step"},Te={class:"content-addr"},We={class:"content-addr-title"},je={class:"addr-title-left sc-medium"},xe={key:0,class:"content-addr-desc"},et={key:0,class:"mo-ren"},tt=["onClick"],ot={key:1,class:"mo-ren"},it=["onClick"],st=D(()=>o("img",{style:{width:"13px",height:"13px"},src:x},null,-1)),rt=D(()=>o("img",{style:{width:"13px",height:"13px"},src:ee},null,-1)),dt={class:"product-title"},ut={class:"product-info"},at={class:"product-spec"},nt={class:"product-sum"},lt=D(()=>o("div",{class:"product-price"}," ",-1)),ct={class:"product-spay"},_t={class:"product-info-img"},mt={class:"product-info-name"},pt={class:"product-item-name"},At={key:0,style:{color:"#e73f30","font-size":"14px","margin-top":"5px"}},ht={class:"product-info-number"},vt={class:"product-info-quantity"},gt={key:0,class:"product-unit-price"},ft={key:1,class:"product-unit-price"},yt={class:"product-price-sum"},Et={key:0},Ct={class:"content-addr-title"},Rt={class:"addr-title-left sc-medium"},Ft={key:0,class:"content-addr-desc"},Bt=["onClick"],kt=D(()=>o("img",{style:{width:"13px",height:"13px"},src:x},null,-1)),wt=D(()=>o("img",{style:{width:"13px",height:"13px"},src:ee},null,-1)),Qt={class:"product-remarks"},Dt={class:"content-addr-title"},It={class:"addr-title-left sc-medium"},bt={class:"product-remark-input"},St={class:"product-price-detail"},Vt={class:"content-addr-title"},Ut={class:"addr-title-left sc-medium"},Gt={class:"content-order-amount"},Nt={class:"product-amount"},Mt=["title"],Jt={class:"product-amount-num sc-medium"},qt={class:"product-amount"},Ht=["title"],Lt={class:"product-amount-num"},Ot={key:0,class:"product-amount"},$t=["title"],Zt=["title"],Xt={class:"product-amount-num"},Yt={key:1,class:"product-amount"},zt=["title"],Kt={class:"product-amount-num"},Pt={class:"content-order-amount"},Tt={class:"product-amount",style:{"margin-top":"20px","font-size":"18px","font-weight":"500",color:"#434343"}},Wt=["title"],jt={class:"product-amount-num sc-medium",style:{color:"#e73f30","font-weight":"500","font-size":"24px"}},xt={class:"order-button"},eo={key:0,class:"order-button-left"},to={style:{"font-size":"14px","font-weight":"500",color:"#434343"}},oo={style:{"font-size":"16px","font-weight":"400",color:"#434343"}};function io(e,_,K,a,C,I){const q=Y("LocationFilled"),r=Ee,i=Y("router-link"),f=Y("ArrowRight"),R=Se,b=be,H=Ie,L=De,S=Qe,V=Be,O=Ce,$=we,U=ke,Z=ue;return u(),l("div",Oe,[o("div",$e,[o("div",Ze,[h(r,{class:"location"},{default:E(()=>[h(q)]),_:1}),h(i,{to:"/index",class:"home",title:e.$t("首页")},{default:E(()=>[g(t(e.$t("首页")),1)]),_:1},8,["title"]),o("span",Xe,[h(r,null,{default:E(()=>[h(f)]),_:1})]),o("span",{class:"home cur",title:e.$t("确认订单")},t(e.$t("确认订单")),9,Ye)])]),o("div",ze,[o("div",Ke,[e.order_id?p("",!0):(u(),l("div",Pe,[h(b,{active:1,"finish-status":"success","align-center":""},{default:E(()=>[h(R,{title:e.$t("确认订单")},null,8,["title"]),h(R,{title:e.$t("支付")},null,8,["title"]),h(R,{title:e.$t("发货")},null,8,["title"]),h(R,{title:e.$t("收货")},null,8,["title"]),h(R,{title:e.$t("已完成")},null,8,["title"])]),_:1})]))]),o("div",Te,[o("div",We,[o("div",je,t(e.$t("收货人信息")),1),o("div",{class:"addr-title-right",onClick:_[0]||(_[0]=d=>a.modifyAddress(0))},t(e.$t("+添加收货地址")),1)]),o("div",null,[e.deliveryAddressRow?(u(),l("div",xe,[o("span",{onClick:_[1]||(_[1]=d=>a.modifyAddress(e.deliveryAddressRow.ud_id))},t(e.deliveryAddressRow.ud_name)+" "+t(e.deliveryAddressRow.district_info)+" "+t(e.deliveryAddressRow.ud_address)+" "+t(e.deliveryAddressRow.ud_mobile),1),e.deliveryAddressRow.ud_is_default?(u(),l("span",et,t(e.$t("默认地址")),1)):p("",!0)])):p("",!0),e.addressRow?(u(!0),l(N,{key:1},M(e.addressRow,(d,B)=>(u(),l("div",{key:B,class:w({"content-addr-desc":!0,hide:e.addr_ishide})},[e.deliveryAddressRow.ud_id!=d.ud_id?(u(),l("span",{key:0,onClick:n=>a.modifyAddress(d.ud_id)},t(d.ud_name)+" "+t(d.district_info)+" "+t(d.ud_address)+" "+t(d.ud_mobile),9,tt)):p("",!0),d.ud_is_default&&e.deliveryAddressRow.ud_id!=d.ud_id?(u(),l("span",ot,t(e.$t("默认地址")),1)):p("",!0),e.deliveryAddressRow.ud_id!=d.ud_id?(u(),l("span",{key:2,class:"mo-ren",style:{color:"#ffffff",background:"#21adea",padding:"0px 5px","border-radius":"5px"},onClick:n=>a.selectedAddress(B)},t(e.$t("选择")),9,it)):p("",!0)],2))),128)):p("",!0)]),o("div",{class:w(["content-addr-cut",{hide:!e.addr_ishide}]),onClick:_[2]||(_[2]=(...d)=>a.moreAddress&&a.moreAddress(...d))},[g(t(e.$t("切换地址"))+" ",1),st],2),o("div",{class:w(["content-addr-cut",{hide:e.addr_ishide}]),onClick:_[3]||(_[3]=(...d)=>a.collectAddress&&a.collectAddress(...d))},[g(t(e.$t("收起地址"))+" ",1),rt],2)]),p("",!0),(u(!0),l(N,null,M(e.cartStoreItems,(d,B)=>(u(),l("div",{class:"content-product-list",key:B},[o("div",dt,[o("div",ut,t(e.$t("商品信息")),1),o("div",at,t(e.$t("商品编号")),1),o("div",nt,t(e.$t("数量")),1),lt,o("div",ct,t(e.$t("单价")),1)]),(u(!0),l(N,null,M(d.items,(n,Q)=>(u(),l("div",{class:"product-info-detail",key:Q},[o("div",_t,[h(H,{fit:"cover",src:n.product_image},null,8,["src"])]),o("div",mt,[o("div",pt,[n.activity_info?(u(),J(L,{key:0,typeId:n.activity_info.activity_type_id},null,8,["typeId"])):p("",!0),g(" "+t(n.product_item_name),1)]),n.item_save_price!=null?(u(),l("span",At,t(e.$t("已优惠"))+t(e.$t("￥"))+t(n.item_save_price.toFixed(2)),1)):p("",!0)]),o("div",ht,t(n.item_number),1),o("div",vt,t(n.cart_quantity),1),e.payment_type_id==1305?(u(),l("div",gt,t(e.$t("￥"))+t(n.product_rent_decimal),1)):p("",!0),e.payment_type_id==1302?(u(),l("div",ft)):p("",!0),o("div",yt,t(e.$t("￥"))+t(n.item_sale_price.toFixed(2)),1)]))),128)),d.voucher_items&&d.voucher_items.length>0?(u(),l("div",Et,[o("div",Ct,[o("div",Rt,[g(t(e.$t("优惠券"))+" ",1),d.voucher_amount==0?(u(),J(S,{key:0,type:"warning"},{default:E(()=>[g(t(d.voucher_items.length)+t(e.$t("张可用")),1)]),_:2},1024)):p("",!0),d.voucher_amount!=0?(u(),J(S,{key:1,type:"success"},{default:E(()=>[g(t(e.$t("已选")),1)]),_:1})):p("",!0)])]),d.voucher_amount!=0?(u(),l("div",Ft,[o("span",null,t(e.chooseVoucher.activity_name)+" "+t(e.$t("满"))+t(e.chooseVoucher.voucher_subtotal)+t(e.$t("减"))+t(e.chooseVoucher.voucher_price),1)])):p("",!0),d.voucher_items?(u(!0),l(N,{key:1},M(d.voucher_items,(n,Q)=>(u(),l("div",{key:Q,class:w({"content-addr-desc":!0,hide:e.voucher_hide})},[o("span",null,t(n.activity_name)+" "+t(e.$t("满"))+t(n.voucher_subtotal)+t(e.$t("减"))+t(n.voucher_price),1),o("span",{class:"mo-ren select-voucher",onClick:P=>a.selectedVoucher(n)},t(e.$t("选择")),9,Bt)],2))),128)):p("",!0),o("div",{class:w(["content-addr-cut",{hide:!e.voucher_hide}]),style:{cursor:"pointer"},onClick:_[4]||(_[4]=(...n)=>a.moreVoucher&&a.moreVoucher(...n))},[g(t(e.$t("选择优惠券"))+" ",1),kt],2),o("div",{class:w(["content-addr-cut",{hide:e.voucher_hide}]),style:{cursor:"pointer"},onClick:_[5]||(_[5]=(...n)=>a.collectVoucher&&a.collectVoucher(...n))},[g(t(e.$t("收起优惠券"))+" ",1),wt],2)])):p("",!0),o("div",Qt,[o("div",Dt,[o("div",It,t(e.$t("备注")),1)]),o("div",bt,[h(V,{type:"text",placeholder:e.$t("请输入留言"),maxlength:"100",modelValue:e.order_message[d.store_id],"onUpdate:modelValue":n=>e.order_message[d.store_id]=n,"show-word-limit":"",style:{width:"730px",height:"40px","border-radius":"5px","font-size":"16px","font-weight":"400",color:"#aaaaaa"}},null,8,["placeholder","modelValue","onUpdate:modelValue"])])]),o("div",St,[o("div",Vt,[o("div",Ut,t(e.$t("金额明细")),1)]),o("div",Gt,[o("div",Nt,[o("div",{class:"product-amount-title",title:e.$t("商品总价:")},t(e.$t("商品总价:")),9,Mt),o("div",Jt,t(e.$t("￥"))+t(d.product_amount.toFixed(2)),1)]),o("div",qt,[o("div",{class:"product-amount-title",title:e.$t("运费:")},t(e.$t("运费:")),9,Ht),o("div",Lt,t(e.$t("￥"))+t(e.CartData.order_freight_amount),1)]),e.CartData.order_discount_amount>0?(u(),l("div",Ot,[a.counter.hasLogin&&a.counter.info.user_level_rate_map[a.counter.userInfo.user_level_id]!=100?(u(),l("div",{key:0,class:"product-amount-title-price",title:e.$t("活动优惠及会员折扣")},t(e.$t("活动优惠及会员折扣("))+t(a.counter.info.user_level_rate_map[a.counter.userInfo.user_level_id]/10)+t(e.$t(")折")),9,$t)):(u(),l("div",{key:1,class:"product-amount-title",title:e.$t("立减:")},t(e.$t("立减:")),9,Zt)),o("div",Xt,t(e.$t("-￥"))+t(e.CartData.order_discount_amount.toFixed(2)),1)])):p("",!0),d.voucher_amount?(u(),l("div",Yt,[o("div",{class:"product-amount-title",title:e.$t("优惠券:")},t(e.$t("优惠券:")),9,zt),o("div",Kt,t(e.$t("-￥"))+t(d.voucher_amount),1)])):p("",!0)])])]))),128)),o("div",Pt,[o("div",Tt,[o("div",{class:"product-amount-title",title:e.$t("实付金额:")},t(e.$t("实付金额:")),9,Wt),o("div",jt,t(e.$t("￥"))+t(e.order_amount.toFixed(2)),1)])]),o("div",xt,[e.deliveryAddressRow?(u(),l("div",eo,[o("div",to,t(e.deliveryAddressRow.ud_name)+" "+t(e.deliveryAddressRow.ud_mobile),1),o("div",oo,t(e.deliveryAddressRow.district_info)+t(e.deliveryAddressRow.ud_address),1)])):p("",!0),h(O,{onClick:a.createOrder,class:"content-right-bot"},{default:E(()=>[g(t(e.$t("立即下单")),1)]),_:1},8,["onClick"])])]),h(U,{modelValue:e.dialogVisible,"onUpdate:modelValue":_[7]||(_[7]=d=>e.dialogVisible=d),width:"700px",draggable:""},{default:E(()=>[h($,{onUpdate:a.update,uid:e.ud_id,onCancel:_[6]||(_[6]=d=>e.dialogVisible=!1)},null,8,["onUpdate","uid"])]),_:1},8,["modelValue"]),h(U,{modelValue:e.invoiceDialogVisible,"onUpdate:modelValue":_[9]||(_[9]=d=>e.invoiceDialogVisible=d),width:"700px",draggable:""},{default:E(()=>[e.invoiceDialogVisible?(u(),J(Z,{key:0,onUpdate:a.getInvoiceList,invoiceId:e.user_invoice_id,onCancel:_[8]||(_[8]=d=>e.invoiceDialogVisible=!1)},null,8,["onUpdate","invoiceId"])):p("",!0)]),_:1},8,["modelValue"])])}const Wo=qe(Le,[["render",io],["__scopeId","data-v-77eb8a5a"]]);export{Wo as default};
