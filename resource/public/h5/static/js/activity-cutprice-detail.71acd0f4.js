(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["activity-cutprice-detail"],{"1f2c":function(t,e,i){var a=i("28c7");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("0f42721c",a,!0,{sourceMap:!1,shadowMode:!1})},"249d":function(t,e,i){"use strict";var a=i("1f2c"),s=i.n(a);s.a},"28c7":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */[data-v-1ecece8a]:export{theme_bg:#e93323}.u-tap-btn[data-v-1ecece8a]{position:fixed;right:%?20?%;bottom:%?150?%}.u-go-home[data-v-1ecece8a]{border-radius:100%;width:%?80?%;height:%?80?%;border:1px solid #eee;font-size:%?20?%;text-align:center;background-color:#fff;box-shadow:0 %?4?% %?8?% rgba(0,0,0,.35);z-index:2;opacity:.8;line-height:%?80?%;margin-bottom:%?20?%}.u-go-home .iconfont[data-v-1ecece8a]{font-size:%?40?%}.bargin[data-v-1ecece8a]{width:%?750?%}.goods-back-sty[data-v-1ecece8a]{background-color:#fff;margin-left:%?80?%;margin-right:%?80?%;padding-bottom:%?1?%}.part1_product[data-v-1ecece8a]{display:flex;background-color:#eceeff;border-radius:%?10?%;margin-bottom:%?10?%}.pro_img[data-v-1ecece8a]{margin-top:%?20?%;margin-left:%?10?%;width:%?215?%;height:%?205?%;border-radius:%?15?%;border:%?6?% solid #9370db\r\n  /* 添加紫色 1px 边框 */}.pro_info[data-v-1ecece8a]{margin-top:%?50?%;margin-left:%?20?%;position:relative;padding-right:%?70?%}.item_name_sty[data-v-1ecece8a]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;white-space:normal}.price_sty[data-v-1ecece8a]{position:absolute;left:%?1?%;bottom:%?10?%;width:%?300?%}.part-bottom-sty[data-v-1ecece8a]{margin-top:%?-2?%;width:%?750?%;height:%?1200?%;background-image:url(https://static.shopsuite.cn/xcxfile/appicon/cutprice-1/background-bottom-one.png);background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%}.goods[data-v-1ecece8a]{padding-left:%?60?%;padding-top:%?90?%}.wxParse-p[data-v-1ecece8a]{padding:0 %?40?%}.remaining[data-v-1ecece8a]{padding-left:%?340?%;padding-top:%?18?%;font-size:%?28?%;color:#fff;font-weight:700}.time_sty[data-v-1ecece8a]{height:%?125?%;margin-left:%?90?%;margin-right:%?90?%;padding-left:%?150?%}.time_fon_sty[data-v-1ecece8a]{margin-left:%?65?%;font-weight:700}.remaining_time[data-v-1ecece8a]{font-size:%?45?%;color:#fff}.time[data-v-1ecece8a]{margin-right:%?10?%;padding-left:%?10?%;padding-right:%?10?%;padding-top:%?6?%;padding-bottom:%?4?%;display:inline;background-size:80% 80%;background-color:#55f;border-radius:%?8?%;text-align:center}.point_sty[data-v-1ecece8a]{color:#55f;display:inline;margin-right:%?10?%}.present[data-v-1ecece8a]{padding-left:%?340?%;padding-top:%?10?%}.present_price[data-v-1ecece8a]{display:inline;font-size:%?28?%;color:#fff}.price[data-v-1ecece8a]{display:inline;font-size:%?32?%;color:#fff}.top-sty[data-v-1ecece8a]{width:%?750?%;height:%?950?%;background-image:url(https://static.shopsuite.cn/xcxfile/appicon/cutprice-1/background-start-top.png);background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%}.user-info[data-v-1ecece8a]{padding-top:%?690?%;display:flex;justify-content:center;align-items:center;flex-direction:column}.user-img[data-v-1ecece8a]{width:%?180?%;height:%?180?%;border-radius:50%;border:%?8?% solid #9370db}.username[data-v-1ecece8a]{margin-top:5px;font-size:%?28?%;font-weight:700;color:#9370db}.goods-sty[data-v-1ecece8a]{margin-top:%?-2?%;width:%?750?%;background-image:url(https://static.shopsuite.cn/xcxfile/appicon/cutprice-1/background-goods.png);background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%}.text1[data-v-1ecece8a]{font-size:%?28?%;color:#fff;margin-top:%?6?%}.progress-bar[data-v-1ecece8a]{margin-top:%?36?%;margin-left:%?64?%;margin-right:%?30?%;width:%?618?%;height:%?36?%;border:%?5?% solid #590a23;background:#590a23;border-radius:%?40?%;position:relative}.left[data-v-1ecece8a]{border-radius:%?40?%;background:#ffe700;height:100%;float:left}.m-nearbylist[data-v-1ecece8a]{height:100%}.original[data-v-1ecece8a]{color:#fff;float:left}.og1[data-v-1ecece8a]{padding-left:%?80?%;padding-top:%?15?%;font-size:%?28?%}.og2[data-v-1ecece8a]{padding-left:%?75?%;font-weight:bolder;padding-top:%?6?%;color:#ffc001;font-family:微软雅黑;font-size:%?32?%}.part3[data-v-1ecece8a]{position:relative;height:%?210?%}.cut-off[data-v-1ecece8a]{color:#fff;display:flex;flex-flow:column;justify-content:center;margin-right:%?72?%;text-align:right}.button-start[data-v-1ecece8a]{margin-top:%?20?%;margin-left:%?270?%;margin-right:%?270?%;height:%?70?%;line-height:%?70?%;text-align:center;background-image:url(https://static.shopsuite.cn/xcxfile/appicon/cutprice-1/begin-bargaining-button.png);background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%}.cut_down_sty[data-v-1ecece8a]{margin-bottom:%?10?%;justify-content:space-between;display:flex;font-size:%?28?%;font-weight:700;color:#9370db}.immediately_btn[data-v-1ecece8a]{margin-left:%?180?%;height:%?60?%;width:%?150?%;background-image:url(https://static.shopsuite.cn/xcxfile/appicon/cutprice-1/sell-immediately.png);background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%}.help_cut_btn[data-v-1ecece8a]{margin-left:%?100?%;height:%?60?%;width:%?150?%;background-image:url(https://static.shopsuite.cn/xcxfile/appicon/cutprice-1/help-cut.png);background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%}.cut_pri_sty[data-v-1ecece8a]{position:absolute;right:%?180?%;height:%?60?%;width:%?150?%;background-image:url(https://static.shopsuite.cn/xcxfile/appicon/cutprice-1/help-cut-price.png);background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%}.up_hands_sty[data-v-1ecece8a]{position:absolute;left:%?180?%;height:%?60?%;width:%?150?%;background-image:url(https://static.shopsuite.cn/xcxfile/appicon/cutprice-1/sell-immediately.png);background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%}.i_want_sty[data-v-1ecece8a]{position:absolute;left:%?180?%;height:%?60?%;width:%?150?%;background-image:url(https://static.shopsuite.cn/xcxfile/appicon/cutprice-1/i-want.png);background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%}.help_cut_btn_1[data-v-1ecece8a]{position:absolute;right:%?180?%;height:%?60?%;width:%?150?%;background-image:url(https://static.shopsuite.cn/xcxfile/appicon/cutprice-1/help-cut.png);background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%}.again_stroll_sty[data-v-1ecece8a]{position:absolute;left:%?300?%;height:%?60?%;width:%?150?%;background-image:url(https://static.shopsuite.cn/xcxfile/appicon/cutprice-1/again-stroll.png);background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%}.congratulate-success[data-v-1ecece8a]{position:absolute;left:%?300?%;height:%?60?%;width:%?150?%;background-image:url(https://static.shopsuite.cn/xcxfile/appicon/cutprice-1/sell-immediately.png);background-repeat:no-repeat;background-size:100% 100%;-moz-background-size:100% 100%}.button[data-v-1ecece8a]{margin-top:%?40?%;margin-left:%?160?%;margin-right:%?160?%;border:%?1?% solid #ffac33;background:#ffac33;border-radius:%?12?%;height:%?70?%;line-height:%?70?%;text-align:center;color:#fff;font-size:%?32?%}.button1[data-v-1ecece8a]{width:%?240?%;height:%?70?%;font-size:%?32?%;margin-top:%?40?%;color:#fff;text-align:center;line-height:%?70?%;border-radius:%?12?%;background:#ffac33}.button2[data-v-1ecece8a]{margin-top:%?40?%;margin-left:%?160?%;margin-right:%?160?%;background:#888;border-radius:%?12?%;height:%?70?%;line-height:%?70?%;text-align:center;color:#fff;font-size:%?32?%}.part4[data-v-1ecece8a]{color:#fff;border-top:%?2?% solid #8c1337;margin-top:%?63?%;min-height:%?360?%}.header[data-v-1ecece8a]{padding-top:%?36?%;text-align:center;font-size:%?32?%;margin-bottom:%?10?%}.content[data-v-1ecece8a]{text-indent:3em;padding-top:%?22?%;font-size:%?28?%}.content1[data-v-1ecece8a]{text-indent:3em;padding-top:%?20?%;font-size:%?28?%}.part5[data-v-1ecece8a]{margin-top:%?40?%}.header1[data-v-1ecece8a]{text-align:center;font-size:%?32?%;color:#fff;background:#ffac33;border-radius:%?42?%;height:%?52?%;line-height:%?52?%}.header_shadow[data-v-1ecece8a]{margin-left:%?222?%;margin-right:%?233?%;border-radius:%?42?%;height:%?52?%;line-height:%?52?%;padding-bottom:%?4?%}.part6[data-v-1ecece8a]{margin-top:%?110?%;height:%?630?%;margin-left:%?80?%;margin-right:%?80?%;overflow:hidden}.avatar_sty[data-v-1ecece8a]{margin-top:%?20?%;margin-left:%?20?%;width:%?120?%;height:%?120?%;border-radius:50%;border:%?3?% solid #9370db}.user_nickname_sty[data-v-1ecece8a]{margin-top:%?30?%;margin-left:%?15?%;font-size:%?32?%;width:%?280?%;height:%?55?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.cut_away_sty[data-v-1ecece8a]{color:#0543d5;font-size:%?32?%;position:absolute;right:%?5?%;top:%?50?%;font-weight:700;font-size:%?28?%}.kanjia uni-view[data-v-1ecece8a]{font-size:%?28?%;color:#fff}.animation[data-v-1ecece8a]{width:100%;height:100%;position:absolute;top:0}.dao[data-v-1ecece8a]{width:%?380?%;height:%?340?%;position:absolute;top:4%;right:0}.dao1[data-v-1ecece8a]{width:%?380?%;height:%?340?%;position:absolute;top:4%;right:0;-webkit-animation:move-data-v-1ecece8a .3s linear;animation:move-data-v-1ecece8a .3s linear;-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes move-data-v-1ecece8a{0%{-webkit-transform:rotateX(0);transform:rotateX(0)}50%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}100%{-webkit-transform:rotate(-30deg);transform:rotate(-30deg)}}@keyframes move-data-v-1ecece8a{0%{-webkit-transform:rotateX(0);transform:rotateX(0)}50%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}100%{-webkit-transform:rotate(-30deg);transform:rotate(-30deg)}}.bag[data-v-1ecece8a]{width:%?336?%;height:%?344?%;position:absolute;top:32%;left:25%}.bagmoney[data-v-1ecece8a]{width:%?525?%;height:%?516?%;position:absolute;top:24%;left:21%}.success[data-v-1ecece8a]{width:60%;height:%?66?%;border-radius:%?10?%;background:#fa3301;line-height:%?66?%;text-align:center;position:absolute;bottom:15%;left:20%;color:#fff}.Price[data-v-1ecece8a]{display:inline;font-size:%?42?%;position:absolute;top:67%;width:100%;text-align:center;color:#ffe382}.more[data-v-1ecece8a]{color:#fff;font-size:%?28?%;display:flex;justify-content:center;background:#292438;padding-bottom:%?40?%}\r\n/* .progressBarBox{position: absolute;right: 0;bottom: 38%;color: #888;font-size: 24upx;margin-right: 20upx;} */.u-progressBar[data-v-1ecece8a]{display:inline-block;width:80%;height:%?26?%;background-color:#d5d5d5;border-radius:%?20?%;overflow:hidden;margin-left:10%}.u-progressBar-cont[data-v-1ecece8a]{height:%?26?%;background-color:#9370db}.floor[data-v-1ecece8a]{color:#ffc001;font-size:%?28?%;padding-top:%?10?%}',""]),t.exports=e},"4d92":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={lPainter:i("2afc").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticStyle:{background:"rgb(41, 36, 56)"}},[0==t.show?i("v-uni-view",{staticClass:"bargin"},[i("v-uni-view",{staticClass:"top-sty"},[i("v-uni-view",{staticClass:"user-info"},[i("v-uni-image",{staticClass:"user-img",attrs:{"lazy-load":!0,src:t.imgPath}}),i("v-uni-view",{staticClass:"username"},[t._v(t._s(t.user_nickname))])],1)],1),i("v-uni-view",{staticClass:"goods-sty"},[i("v-uni-view",{staticClass:"goods-back-sty"},t._l(t.Info.items,(function(e,a){return i("v-uni-view",{key:a,staticClass:"part1_product"},[i("v-uni-view",[i("v-uni-image",{staticClass:"pro_img",attrs:{"lazy-load":!0,src:e.product_image}})],1),i("v-uni-view",{staticClass:"pro_info"},[i("v-uni-view",{staticClass:"item_name_sty"},[t._v(t._s(e.product_item_name))]),i("v-uni-view",{staticClass:"price_sty"},[i("v-uni-label",{staticStyle:{color:"#ff6803"}},[t._v(t._s(t.__("底价：")))]),i("v-uni-label",{staticStyle:{color:"#ff6803","font-weight":"bold","font-size":"50upx"}},[t._v(t._s(t.sprintf("%.2f",e.item_rate_price)))]),i("span",{staticStyle:{"text-decoration":"line-through","margin-left":"10upx",color:"#999"}},[t._v(t._s(e.item_unit_price))])],1)],1)],1)})),1)],1),i("v-uni-view",{staticClass:"part-bottom-sty"},[i("v-uni-view",{staticClass:"time_sty"},[2==t.end?i("v-uni-view",{staticClass:"time_fon_sty"},[t._v(t._s(t.__("活动时间仅剩")))]):t._e(),1==t.end?i("v-uni-view",[i("v-uni-view",{staticClass:"remaining_time"},[i("v-uni-view",{staticClass:"time"},[t._v(t._s(t.Time.hour))]),i("v-uni-view",{staticClass:"point_sty"},[t._v(t._s(t.__(":")))]),i("v-uni-view",{staticClass:"time"},[t._v(t._s(t.Time.min))]),i("v-uni-view",{staticClass:"point_sty"},[t._v(t._s(t.__(":")))]),i("v-uni-view",{staticClass:"time"},[t._v(t._s(t.Time.sec))])],1)],1):t._e(),2==t.end?i("v-uni-view",[i("v-uni-view",{staticClass:"remaining_time"},[i("v-uni-view",{staticClass:"time"},[t._v(t._s(t.Time.hour))]),i("v-uni-view",{staticClass:"point_sty"},[t._v(t._s(t.__(":")))]),i("v-uni-view",{staticClass:"time"},[t._v(t._s(t.Time.min))]),i("v-uni-view",{staticClass:"point_sty"},[t._v(t._s(t.__(":")))]),i("v-uni-view",{staticClass:"time"},[t._v(t._s(t.Time.sec))])],1)],1):t._e()],1),i("v-uni-view",{staticClass:"u-progressBar"},[i("v-uni-view",{staticClass:"u-progressBar-cont",style:"width:"+t.width+"%"})],1),i("v-uni-view",{staticClass:"part3"},[0==t.Info.is_cut&&t.istrue&&1!=t.end&&3!=t.end&&""==t.Info.order_id?i("v-uni-view",{staticClass:"button-start",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bargin.apply(void 0,arguments)}}}):t._e(),0==t.Info.is_cut&&t.istrue&&1==t.end&&""==t.Info.order_id?i("v-uni-view",{staticClass:"button-start"}):t._e(),t.Info.is_cut?i("v-uni-view",{staticClass:"cut_down_sty"},[i("v-uni-view",{staticStyle:{"margin-left":"150upx"}},[t._v(t._s(t.__("原价"))+t._s(t.__("￥"))+t._s(t.sprintf("%.2f",t.Info.activity_rule_json.cutprice.total_price)))]),i("v-uni-view",{staticStyle:{"margin-right":"150upx"}},[t._v(t._s(t.__("已砍"))+t._s(t.__("￥"))+t._s(t.sprintf("%.2f",t.Info.activity_rule_json.cutprice.total_price-t.Info.ac_sale_price)))])],1):t._e(),t.Info.is_cut&&t.istrue&&t.isCut&&1!=t.end&&3!=t.end&&""==t.Info.order_id?i("v-uni-view",{staticStyle:{display:"flex"}},[i("v-uni-view",{staticClass:"immediately_btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goshop.apply(void 0,arguments)}}}),1==t.Info.activity_state?i("v-uni-view",{staticClass:"help_cut_btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareBox.apply(void 0,arguments)}}}):t._e()],1):t._e(),i("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}}),0==t.Info.is_cut&&0==t.istrue&&t.isCut&&1!=t.end&&3!=t.end&&""==t.Info.order_id?i("v-uni-view",{staticClass:"cut_pri_sty",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bargin.apply(void 0,arguments)}}}):t._e(),t.Info.is_cut&&0==t.istrue&&t.isCut&&1!=t.end&&3!=t.end&&""==t.Info.order_id?i("v-uni-view",[i("v-uni-navigator",{staticClass:"i_want_sty",attrs:{url:"/activity/cutprice/detail?mid="+t.mid+"&pid="+t.pid+"&ac_id="+t.ac_id}}),1==t.Info.activity_state?i("v-uni-button",{staticClass:"help_cut_btn_1",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareBox.apply(void 0,arguments)}}}):t._e()],1):t._e(),0==t.istrue&&0==t.isCut&&1!=t.end&&3!=t.end&&""==t.Info.order_id?i("v-uni-navigator",{staticClass:"i_want_sty",attrs:{url:"/activity/cutprice/detail?mid="+t.mid+"&pid="+t.pid+"&ac_id="+t.ac_id}}):t._e(),3==t.end?i("v-uni-navigator",{staticClass:"again_stroll_sty",attrs:{url:"/activity/cutprice/list"}}):t._e(),t.Info.order_id&&3!=t.end?i("v-uni-navigator",{staticClass:"again_stroll_sty",attrs:{url:"/activity/cutprice/list"}}):t._e(),t.Info.is_cut&&t.istrue&&0==t.isCut&&1!=t.end&&3!=t.end&&""==t.Info.order_id?i("v-uni-view",{staticClass:"congratulate-success",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goshop.apply(void 0,arguments)}}}):t._e()],1),t.Info.Description?i("v-uni-view",{staticClass:"part4"},[i("v-uni-view",{staticClass:"header"},[t._v(t._s(t.__("活动说明")))]),i("v-uni-rich-text",{attrs:{nodes:t.htmlString}})],1):t._e(),i("v-uni-view",{staticClass:"part6"},[i("v-uni-scroll-view",{staticClass:"m-nearbylist",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scrollbottom.apply(void 0,arguments)}}},t._l(t.List,(function(e,a){return i("v-uni-view",{key:a,staticStyle:{display:"flex",position:"relative","border-bottom":"1upx solid mediumpurple"}},[i("v-uni-view",[i("v-uni-image",{staticClass:"avatar_sty",attrs:{"lazy-load":!0,src:e.user_avatar}})],1),i("v-uni-view",[i("v-uni-view",{staticClass:"user_nickname_sty"},[t._v(t._s(e.user_nickname)),e.user_mobile?i("v-uni-label",{staticStyle:{"margin-left":"10upx"}},[t._v(t._s(e.user_mobile))]):t._e()],1)],1),i("v-uni-view",{staticClass:"cut_away_sty"},[t._v(t._s(t.__("砍掉"))+t._s(t.sprintf("%.2f",e.ach_price))+t._s(t.__("元")))])],1)})),1)],1)],1)],1):t._e(),t.showImg?i("v-uni-view",{class:["msk"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"msk_box"},[i("v-uni-image",{staticStyle:{width:"100%"},attrs:{src:"https://static.shopsuite.cn/xcxfile/appicon/cutprice-1/cut-price-animation.png",mode:"widthFix"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}})],1)],1):t._e()],1),i("v-uni-view",{staticClass:"u-tap-btn"},[i("v-uni-navigator",{staticClass:"u-go-home",attrs:{url:"/pages/index/index","open-type":"switchTab"}},[i("v-uni-view",{staticClass:"iconfont icon-shouyeshouye"})],1)],1),i("share-box-mp",{ref:"shareBoxMp",attrs:{PageQRCodeInfo:t.PageQRCodeInfo,shareDataDefault:t.shareData},on:{cancelShare:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelShare.apply(void 0,arguments)},showCodeImg:function(e){arguments[0]=e=t.$handleEvent(e),t.showCodeImg.apply(void 0,arguments)},shareQRCode:function(e){arguments[0]=e=t.$handleEvent(e),t.shareQRCode.apply(void 0,arguments)},saveImg:function(e){arguments[0]=e=t.$handleEvent(e),t.saveImg.apply(void 0,arguments)}}}),i("share-box-app",{ref:"shareBoxApp",attrs:{shareDataDefault:t.shareData}}),i("l-painter",{ref:"painter",attrs:{useCORS:!0,isCanvasToTempFilePath:!0,"path-type":"url","custom-style":"position: fixed; left: 200%"},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.createPoster(e)}}})],1)},n=[]},8105:function(t,e,i){"use strict";i.r(e);var a=i("4d92"),s=i("ccf6");for(var n in s)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("249d");var o=i("f0c5"),r=Object(o["a"])(s["default"],a["b"],a["c"],!1,null,"1ecece8a",null,!1,a["a"],void 0);e["default"]=r.exports},8232:function(t,e,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("ade3")),n=a(i("5530"));i("ac1f"),i("5319"),i("acd8"),i("e25e");var o=a(i("4e4b")),r=i("26cb"),c=a(i("a83b")),d=a(i("99bd"));var u={data:function(){return{Time:"",hours:"",show:!1,showImg:!1,showPrice:!1,isCut:!0,imgPath:"",user_nickname:"",mid:0,uid:0,pid:0,page:1,rows:10,Info:{activity_rule:{product_image:""}},end:0,startTime:"",endTime:"",istrue:!0,flag:!0,ispage:!0,width:100,participantId:"",ac_id:0,money:0,List:[],hour:0,min:0,sec:0,htmlString:"",PageQRCodeInfo:{Path:"",IsShare:!1,IsShareBox:!1,IsJT:!1},shareData:{shareText:"随商商城系统，支持原生App、微信小程序，邀请你一起体验！",shareTitle:"随商商城系统，支持原生App、微信小程序，邀请你一起体验！",href:"https://www.suteshop.com",image:""},productPoster:"",poster:{css:{width:"750rpx",height:"1334rpx",background:"#fff"},views:[{type:"image",src:"https://kuteshop.oss-accelerate.aliyuncs.com/modulithshop/image/media/plantform/20230915/c9ef027ff64d4cd1b81c7c521f565524.jpg",css:{left:"0rpx",top:"0rpx",width:"750rpx",height:"1334rpx",position:"fixed"}},{type:"image",src:"商品图片",css:{left:"20rpx",top:"20rpx",width:"710rpx",height:"710rpx",position:"fixed"}},{type:"text",text:"商品名称",css:{maxLines:2,lineClamp:2,width:"680rpx",left:"35rpx",top:"770rpx",fontSize:"28rpx",color:"#333",lineHeight:"50rpx",position:"fixed"}},{type:"text",text:"¥0",css:{width:"680rpx",left:"35rpx",top:"890rpx",fontSize:"38rpx",color:"#E50F41",position:"fixed"}},{type:"qrcode",text:"二维码",css:{left:"35rpx",top:"990rpx",width:"260rpx",height:"260rpx",position:"fixed"}},{type:"text",text:"长按保存或扫码查看",css:{position:"fixed",left:"60rpx",top:"1270rpx",fontSize:"20rpx",color:"#999"}}]},shareText:"随商商城系统，支持原生App、微信小程序，邀请你一起体验！",shareTitle:"随商商城系统，支持原生App、微信小程序，邀请你一起体验！",href:"https://www.suteshop.com",image:""}},components:{shareBoxMp:c.default,shareBoxApp:d.default},computed:(0,r.mapState)(["Config","StateCode","notice","plantformInfo","shopInfo","userInfo","hasLogin"]),onLoad:function(t){uni.setNavigationBarTitle({title:this.__("砍价详情")});var e=this;if(t.scene){var i=decodeURIComponent(t.scene),a=i.replace("longUrl=","").split("-");t.mid=a[0],t.pid=a[1],t.ac_id=a[2],t.uid=a[3]}t.sid?e.setData({imgPath:this.userInfo.user_avatar,user_nickname:this.userInfo.user_nickname,mid:t.mid,uid:t.sid,participantId:this.userInfo.user_id,pid:t.pid}):e.setData({imgPath:this.userInfo.user_avatar,user_nickname:this.userInfo.user_nickname,mid:t.mid,uid:t.uid||this.userInfo.user_id,participantId:this.userInfo.user_id,pid:t.pid}),this.forceUserInfo((function(t){e.GetOtherCutPriceActivityList()})),this.getPlantformInfo((function(t){e.poster.views[0].src=t.product_poster_bg,e.setData({})})),this.notice.addNotification("RefreshFG",e.refreshGb,e)},onShow:function(){this.GetVendorCutPriceEventDetail()},onBackPress:function(){},onUnload:function(){this.notice.removeNotification("RefreshFG",this)},onShareAppMessage:function(){var t=this.Info.ac_sale_price-this.Info.ac_mix_limit_price,e=t>0?this.$.sprintf(this.__("【砍价】 %s 邀请您帮忙砍一刀！"),this.Info.user_nickname):this.$.sprintf(this.__("%s 砍价成功！他已节省 %.2f 元！赶快来砍价吧!"),this.Info.user_nickname,(this.Info.activity_rule_json.cutprice.total_price-this.Info.ac_sale_price).toFixed(2)),i=this.$.sprintf("/activity/cutprice/detail?mid=%d&pid=%d&ac_id=%d&uid=%d",this.mid,this.pid,this.ac_id,this.uid);return{imageUrl:this.Info.activity_rule_json.cutprice.cutprice_image,title:e,path:i}},onShareTimeline:function(){var t=this.Info.ac_sale_price-this.Info.ac_mix_limit_price,e=t>0?this.$.sprintf(this.__("【砍价】 %s 邀请您帮忙砍一刀！"),this.Info.user_nickname):this.$.sprintf(this.__("%s 砍价成功！他已节省 %.2f 元！赶快来砍价吧!"),this.Info.user_nickname,(this.Info.activity_rule_json.cutprice.total_price-this.Info.ac_sale_price).toFixed(2));this.$.sprintf("/activity/cutprice/detail?mid=%d&pid=%d&ac_id=%d&uid=%d",this.mid,this.pid,this.ac_id,this.uid);return{title:e,query:{mid:this.mid,ac_id:this.ac_id,uid:this.uid,pid:this.pid},imageUrl:this.Info.activity_rule_json.cutprice.cutprice_image}},methods:(0,n.default)((0,n.default)({},(0,r.mapMutations)(["login","logout","getPlantformInfo","forceUserInfo","getUserInfo"])),{},{GetVendorCutPriceEventDetail:function(){var t=this,e={activity_id:this.mid,user_id:this.uid,participant_id:this.userInfo.user_id};e.user_id==e.participant_id?this.setData({istrue:!0}):this.setData({istrue:!1}),o.default.request({url:this.Config.URL.marketing.getCutpriceActivity,data:e,success:function(e,i,a,s){200==i?(e.CutPricePercent=(e.activity_rule_json.cutprice.total_price-e.ac_sale_price)/(e.activity_rule_json.cutprice.total_price-e.activity_rule_json.cutprice.cut_down_min_limit_price),t.setData({Info:e,user_nickname:e.user_nickname,imgPath:e.user_avatar,ac_id:e.ac_id,width:100*parseFloat(e.CutPricePercent).toFixed(2)}),t.getTime(),e.ac_sale_price-e.ac_mix_limit_price<=0&&t.setData({isCut:!1}),e.activity_remark&&(t.htmlString=e.activity_rule.activity_intro.replace(/\\/g,"").replace(/<img/g,'<img style="display:none;"')),t.poster.views[1].src=e.activity_rule_json.cutprice.cutprice_image,t.poster.views[2].text=e.ac_sale_price-e.ac_mix_limit_price>0?t.$.sprintf(t.__("【砍价】 %s 邀请您帮忙砍一刀！"),e.user_nickname):t.$.sprintf(t.__("%s 砍价成功！他已节省 %.2f 元！赶快来砍价吧!"),e.user_nickname,(e.activity_rule_json.cutprice.total_price-e.ac_sale_price).toFixed(2)),t.poster.views[3].text=t.$.sprintf(t.__("砍价底价 ¥%.2f"),e.ac_mix_limit_price),t.poster.views[4].text=t.Config.SiteUrl+"/h5/activity/cutprice/detail?mid="+t.mid+"&pid="+t.pid+"&ac_id="+t.ac_id+"&uid="+t.uid):t.setData({flag:!1,ispage:!0})}})},createPoster:function(t){this.productPoster=t,this.productPoster&&(uni.hideLoading(),this.$refs.shareBoxMp.path=this.productPoster)},getTime:function(){var t=this,e=(new Date).getTime(),i=this.Info.activity_endtime,a=this.Info.activity_starttime,s=a,n=i;if(s>=e)var r=setInterval((function(){t.setData({Time:o.default.Formattime1(t.Info.activity_starttime,r),end:1}),void 0==t.Time&&t.getTime()}),1e3);else if(n<=e)r=setInterval((function(){t.setData({Time:o.default.Formattime2(t.Info.activity_endtime,r),end:3}),void 0==t.Time&&t.getTime()}),1e3);else if(s<e<n)r=setInterval((function(){t.setData({Time:o.default.Formattime2(t.Info.activity_endtime,r),end:2}),void 0==t.Time&&t.getTime()}),1e3);else;},GetOtherCutPriceActivityList:function(){var t={activity_id:this.mid,user_id:this.uid,page:this.page},e=this;o.default.request({url:this.Config.URL.marketing.listsCutpriceHistory,data:t,success:function(t,i,a,s){200==i&&t.items.length>0?(e.setData({flag:!1}),e.setData({ispage:!0,List:t.items})):e.setData({flag:!1,ispage:!0})}})},scrollbottom:function(){var t=this;t.setData({flag:!1}),clearTimeout(e);var e=setTimeout((function(){t.setData({type:t.type,page:parseInt(t.page)+1,rows:10}),t.GetOtherCutPriceActivityList()}),500)},CutPrice:function(){if(this.Info.activity_state>1)this.$.alert(this.__("活动已结束！"));else{var t={ac_id:this.ac_id,user_id:this.userInfo.user_id},e=this;o.default.request({url:this.Config.URL.marketing.doCutprice,data:t,method:"POST",success:function(t,i,a,s){200==i?(e.setData({money:t.ach_price,ac_id:t.ac_id,showImg:!0}),e.GetVendorCutPriceEventDetail(),e.GetOtherCutPriceActivityList()):e.$.alert(a)}})}},bargin:function(){this.CutPrice()},back:function(){this.setData({showImg:!1}),this.GetVendorCutPriceEventDetail(),this.GetOtherCutPriceActivityList()},more:function(t){if(this.flag){var e=this;clearTimeout(i);var i=setTimeout((function(){e.setData({page:parseInt(e.page)+1}),e.GetOtherCutPriceActivityList()}),500)}},goshop:function(){var t=(0,s.default)({amount:1,items:this.Info.activity_rule_json.cutprice.items,ac_id:this.Info.ac_id,order_id:this.Info.order_id},"ac_id",this.ac_id);if(""==this.Info.order_id){for(var e=t.items,i="",a=0;a<e.length;a++)i=""==i?e[a].item_id+"|"+e[a].num+"|0":i+e[a].item_id+"|"+e[a].num+"|0",a!=e.length-1&&(i+=",");e.length>0?o.default.navigateTo({url:"/pagesub/checkout/checkout?single_activity=1&ifcart=0&cart_id="+i+"&activity_id="+this.mid+"&ac_id="+this.ac_id}):o.default.navigateTo({url:"/pages/checkout/checkout?single_activity=1&ifcart=0&cart_id="+i+"&activity_id="+this.mid+"&ac_id="+this.ac_id})}},shareQRCode:function(t){""==this.productPoster&&(uni.showLoading({title:"海报生成中..",mask:!0}),this.$refs.painter.render(this.poster))},shareBox:function(){var t=o.default.sprintf("%s/h5/activity/cutprice/detail?mid=%d&pid=%d&ac_id=%d&uid=%d",this.Config.SiteUrl,this.mid,this.pid,this.ac_id,this.uid);this.setData({shareData:{shareTitle:this.Info.activity_title,shareText:"",href:t,image:this.Info.activity_rule_json.cutprice.cutprice_image,price:this.Info.activity_rule_json.cutprice.total_price}}),this.$.ifUniApp()?this.$refs.shareBoxH5.show():this.$refs.shareBoxMp.show()},cancelShare:function(){this.setData({PageQRCodeInfo:{Path:"",IsShare:!1,IsShareBox:!1,IsJT:!1}})},saveImg:function(){var t=this;o.default.showLoading(),o.default.downloadFile({url:this.PageQRCodeInfo.Path,success:function(e){o.default.hideLoading(),o.default.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){t.setData({PageQRCodeInfo:{Path:"",IsShare:!1,IsShareBox:!1,IsJT:!1}}),o.default.alert("保存图片成功！")},fail:function(t){o.default.hideLoading()}})},fail:function(t){o.default.hideLoading()}})},showCodeImg:function(){o.default.previewImage({current:this.PageQRCodeInfo.Path,urls:[this.PageQRCodeInfo.Path]})}})};e.default=u},ccf6:function(t,e,i){"use strict";i.r(e);var a=i("8232"),s=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a}}]);