(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesub-article-detail"],{"054a":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"share-box-mp",props:{shareDataDefault:{type:Object,default:function(){return{shareTitle:"",shareText:"",href:"",image:"",price:0}}}},data:function(){return{IsJT:!1,path:"",isShare:!1,isShareBox:!1}},methods:{cancel:function(){this.isShareBox=!1,this.isShare=!1,this.$emit("onCancel")},show:function(){this.isShareBox=!0,this.isShare=!0},cancelShare:function(){this.isShareBox=!1,this.isShare=!1,this.IsJT=!1,this.$emit("cancelShare")},shareQRCode:function(e){console.log("33333333333333333");this.setData({isShare:!0,isShareBox:!1,IsJT:!0}),this.$emit("shareQRCode")},saveImg:function(e){this.showCodeImg(),this.$emit("saveImg")},showCodeImg:function(){this.$.previewImage({current:this.path,urls:[this.path]}),this.$emit("showCodeImg")}}};t.default=n},1934:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var n=function(){var e=this.$createElement;this._self._c},a=[]},"28e2":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var n=function(){var e=this.$createElement;this._self._c},a=[]},"2ebd":function(e,t,i){"use strict";i.r(t);var n=i("054a"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},3055:function(e,t,i){"use strict";i.r(t);var n=i("4e98"),a=i("a767");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("8075");var s=i("f0c5"),o=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"ff0f1eec",null,!1,n["a"],void 0);t["default"]=o.exports},"310e":function(e,t,i){var n=i("468f");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("5764c2ac",n,!0,{sourceMap:!1,shadowMode:!1})},3804:function(e,t,i){"use strict";i.r(t);var n=i("4432"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},"421f":function(e,t,i){"use strict";var n=i("310e"),a=i.n(n);a.a},4432:function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("14d9"),i("4e82"),i("d81d"),i("ac1f"),i("5319");var n={name:"share-box-app",props:{shareDataDefault:{type:Object,default:function(){return{shareTitle:"",shareText:"",href:"",image:""}}}},data:function(){return{showBoxView:!1,shareType:0}},created:function(){var e=this;uni.getProvider({service:"share",success:function(t){for(var i=[],n=0;n<t.provider.length;n++)switch(t.provider[n]){case"weixin":i.push({name:"分享到微信好友",id:"weixin",sort:0}),i.push({name:"分享到微信朋友圈",id:"weixin",type:"WXSenceTimeline",sort:1});break;case"sinaweibo":i.push({name:"分享到新浪微博",id:"sinaweibo",sort:2});break;case"qq":i.push({name:"分享到QQ",id:"qq",sort:3});break;default:break}e.providerList=i.sort((function(e,t){return e.sort-t.sort}))},fail:function(e){uni.showModal({content:"获取登录通道失败",showCancel:!1})}})},methods:{share:function(){var e=this,t=this;if(t.cf.LANG_ENABLE)this.shareDataDefault.shareTitle,this.shareDataDefault.href;else if(0!==this.providerList.length){var i=this.providerList.map((function(e){return e.name}));t=this;uni.showActionSheet({itemList:i,success:function(t){var i="qq"==e.providerList[t.tapIndex].id?2:e.shareType;uni.share({provider:e.providerList[t.tapIndex].id,scene:e.providerList[t.tapIndex].type&&"WXSenceTimeline"===e.providerList[t.tapIndex].type?"WXSenceTimeline":"WXSceneSession",type:i,summary:e.shareDataDefault.shareText,imageUrl:e.shareDataDefault.image,title:e.shareDataDefault.shareTitle,href:e.shareDataDefault.href,success:function(t){e.$emit("onShared")},fail:function(e){uni.showModal({content:"用户取消",showCancel:!1})}})}})}else uni.showModal({title:"当前环境无分享渠道!",showCancel:!1})},save:function(){uni.showActionSheet({itemList:["保存图片到相册"],success:function(){plus.gallery.save("https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/app_download.png",(function(){uni.showToast({title:"保存成功",icon:"none"})}),(function(){uni.showToast({title:"保存失败，请重试！",icon:"none"})}))}})},cancel:function(){this.showBoxView=!1,this.$emit("onCancel")},show:function(){this.share()}}};t.default=n},"468f":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.mp-clean-icon[data-v-fd1f06b0]{position:absolute;right:%?8?%;top:%?8?%;color:#999}',""]),e.exports=t},4882:function(e,t,i){var n=i("7d3f");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("0dda4b08",n,!0,{sourceMap:!1,shadowMode:!1})},"4e98":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"container"},[e.article_row.article_image?i("v-uni-view",{staticClass:"banner"},[i("v-uni-image",{staticClass:"banner-img",attrs:{src:e.article_row.article_image}})],1):e._e(),i("v-uni-view",{staticClass:"main"},[i("v-uni-view",{staticClass:"title"},[e._v(e._s(e.article_row.article_title))]),i("v-uni-view",{staticClass:"article-meta"},[i("v-uni-text",{staticClass:"article-author"},[e._v(e._s(e.article_row.user_nickname))]),i("v-uni-text",{staticClass:"article-text"},[e._v(e._s(e.__("发表于")))]),i("v-uni-text",{staticClass:"article-time"},[e._v(e._s(e.article_row.article_add_time))])],1),i("v-uni-view",{staticClass:"helpContent",domProps:{innerHTML:e._s(e.htmlString)}})],1),i("share-box-mp",{attrs:{PageQRCodeInfo:e.PageQRCodeInfo},on:{cancelShare:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelShare.apply(void 0,arguments)},showCodeImg:function(t){arguments[0]=t=e.$handleEvent(t),e.showCodeImg.apply(void 0,arguments)},shareQRCode:function(t){arguments[0]=t=e.$handleEvent(t),e.shareQRCode.apply(void 0,arguments)},saveImg:function(t){arguments[0]=t=e.$handleEvent(t),e.saveImg.apply(void 0,arguments)}}}),i("share-box-app",{ref:"shareBoxApp",attrs:{shareDataDefault:e.shareData}}),i("share-box-h5",{ref:"shareBoxH5",attrs:{shareDataDefault:e.shareData}})],1)},a=[]},6894:function(e,t,i){"use strict";i.r(t);var n=i("9e14"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},"7d3f":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-ff0f1eec]{background-color:#fff!important}body.?%PAGE?%[data-v-ff0f1eec]{background-color:#fff!important}.container .banner .banner-img[data-v-ff0f1eec]{width:100%}.container .main[data-v-ff0f1eec]{margin:0 %?30?%;padding:%?20?% 0;font-size:%?28?%}.container .main .title[data-v-ff0f1eec]{font-size:%?30?%;font-weight:700}.container .main .article-meta[data-v-ff0f1eec]{color:#8c8c8c;font-size:%?28?%;text-align:right;padding-bottom:%?10?%}',""]),e.exports=t},8075:function(e,t,i){"use strict";var n=i("4882"),a=i.n(n);a.a},"99bd":function(e,t,i){"use strict";i.r(t);var n=i("28e2"),a=i("3804");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);var s=i("f0c5"),o=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"bec153ce",null,!1,n["a"],void 0);t["default"]=o.exports},"9e14":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("ac1f"),i("00b4"),i("14d9"),i("4e82"),i("d81d");var n={name:"share-box-h5",props:{shareDataDefault:{type:Object,default:function(){return{shareTitle:"",shareText:"",href:"",image:""}}}},data:function(){return{showBoxView:!1,shareType:0,shareObj:null}},created:function(){var e=this;/uni-app/i.test(navigator.userAgent)&&plus.share.getServices((function(t){e.shareObj=t;var i=[];if(t&&t.length){for(var n=0;n<t.length;n++)switch(t[n]["id"]){case"weixin":i.push({name:"分享到微信好友",id:"weixin",type:"WXSceneSession",sort:0}),i.push({name:"分享到微信朋友圈",id:"weixin",type:"WXSenceTimeline",sort:1});break;case"sinaweibo":i.push({name:"分享到新浪微博",id:"sinaweibo",sort:2});break;case"qq":i.push({name:"分享到QQ",id:"qq",sort:3});break;default:break}e.providerList=i.sort((function(e,t){return e.sort-t.sort}))}}),(function(e){uni.showModal({content:"获取分享通道失败",showCancel:!1})}))},methods:{share:function(){if(0!==this.providerList.length){var e=this.providerList.map((function(e){return e.name})),t=this;uni.showActionSheet({itemList:e,success:function(e){(function(){if(null==t.shareObj)return plus.nativeUI.toast("分享组件加载中，请稍候！"),!1;var i=null;for(var n in t.shareObj)if(t.shareObj[n].id==t.providerList[e.tapIndex].id){i=t.shareObj[n];break}if(null==i)return plus.nativeUI.toast("微信分享组件启动失败！"),!1;var a={title:t.shareDataDefault.shareTitle,href:t.shareDataDefault.href,thumbs:[t.shareDataDefault.image],extra:{scene:t.providerList[e.tapIndex].type&&"WXSenceTimeline"===t.providerList[e.tapIndex].type?"WXSenceTimeline":"WXSceneSession"}};t.shareDataDefault.shareText&&(a["content"]=t.shareDataDefault.shareText),i.send(a,(function(){plus.nativeUI.toast("分享成功！"),t.$emit("onShared")}),(function(e){plus.nativeUI.toast("分享失败："+e.message)}))})()}})}else uni.showModal({title:"当前环境无分享渠道!",showCancel:!1})},save:function(){uni.showActionSheet({itemList:["保存图片到相册"],success:function(){plus.gallery.save("https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/app_download.png",(function(){uni.showToast({title:"保存成功",icon:"none"})}),(function(){uni.showToast({title:"保存失败，请重试！",icon:"none"})}))}})},cancel:function(){this.showBoxView=!1,this.$emit("onCancel")},show:function(){this.share()}}};t.default=n},a0d6:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n}));var n={uniIcons:i("2df6").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{class:["shareMsk",e.isShare?"":"hide"]},[i("v-uni-view",{class:["sharebox",e.isShareBox?"bounceInUp animated":"bounceOutDown animated"]},[i("v-uni-view",{staticClass:"shareList g-flex "},[i("v-uni-view",{staticClass:"shareItem g-flex-item"},[i("v-uni-view",{staticClass:"shareBtn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.shareQRCode.apply(void 0,arguments)}}},[i("v-uni-image",{staticStyle:{width:"100rpx",height:"100rpx"},attrs:{src:"https://static.shopsuite.cn/xcxfile/appicon/images/allfriend.png"}}),i("v-uni-label",[e._v(e._s(e.__("生成海报")))])],1)],1)],1),i("v-uni-view",{staticClass:"cancelShare",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelShare.apply(void 0,arguments)}}},[e._v(e._s(e.__("取消")))])],1),i("v-uni-view",{class:["shareCodeImg",e.IsJT?"":"hide"]},[e._e(),i("v-uni-view",{staticClass:"uni-icon uni-icon-clear mp-clean-icon",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelShare.apply(void 0,arguments)}}}),i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showCodeImg.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{mode:"widthFix",src:e.path}})],1),i("v-uni-label",[e._v(e._s(e.__("查看海报，长按保存到相册")))]),i("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.saveImg.apply(void 0,arguments)}}},[e._v(e._s(e.__("查看海报")))])],1)],1)},r=[]},a767:function(e,t,i){"use strict";i.r(t);var n=i("b56d"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},a83b:function(e,t,i){"use strict";i.r(t);var n=i("a0d6"),a=i("2ebd");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("421f");var s=i("f0c5"),o=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"fd1f06b0",null,!1,n["a"],void 0);t["default"]=o.exports},b56d:function(e,t,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("ac1f"),i("5319"),i("c975");var a=n(i("5530")),r=n(i("a83b")),s=n(i("99bd")),o=n(i("d675")),c=i("26cb"),u={data:function(){return{Id:0,article_row:{},htmlString:"<div>loading....<div>",PageQRCodeInfo:{Path:"",IsShare:!1,IsShareBox:!1,IsJT:!1},shareData:{}}},components:{shareBoxMp:r.default,shareBoxApp:s.default,shareBoxH5:o.default},computed:(0,c.mapState)(["Config","StateCode","notice","plantformInfo","shopInfo","userInfo","hasLogin"]),onShareAppMessage:function(){return{title:this.article_row.article_title,path:"/pagesub/article/detail?id="+this.Id+"&uid="+this.userInfo.user_id}},onShareTimeline:function(){return{title:this.article_row.article_title,query:{uid:this.userInfo.user_id,id:this.Id}}},onLoad:function(e){uni.setNavigationBarTitle({title:this.__("资讯详情")}),this.setData({options:e}),this.Id=decodeURIComponent(e.id),this.getDetail()},onBackPress:function(){if(this.$refs.shareBoxH5.showBoxView)return this.$refs.shareBoxH5.cancel(),!0},onUnload:function(){this.$refs.shareBoxH5.showBoxView&&this.$refs.shareBoxH5.cancel()},onNavigationBarButtonTap:function(e){0===e.index?this.onShareBox(e):uni.showToast({title:"你点了收藏按钮",icon:"none"})},methods:(0,a.default)((0,a.default)({},(0,c.mapMutations)(["login","logout","getPlantformInfo","forceUserInfo","getUserInfo"])),{},{getDetail:function(){var e=this,t=this,i={article_id:this.Id};t.$.request({url:this.Config.URL.cms.get,data:i,dataType:"json",ajaxCache:{timeout:this.Config.CACHE_EXPIRE},success:function(i,n){if(200==n){e.htmlString=i.article_content.replace(/\\/g,"");var a=e.htmlString;a.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,(function(e,t){a=-1==t.indexOf("http")?a.replace(e,"<img  style='width:100%;height:auto;display:block' src='https:"+t+"'/>"):a.replace(e,"<img  style='width:100%;height:auto;display:block' src='"+t+"'/>")})),e.htmlString=a,e.setData({article_row:i}),t.$.setNavigationBarTitle({title:i.article_title}),setTimeout((function(){var e=i.article_title,n=t.$.sprintf("%s/h5/pagesub/article/detail?id=%s",t.Config.SiteUrl,t.Id),a=i.article_image;t.$.wxShare(e,"",n,a)}),100)}},fail:function(){}})},onShareBox:function(e){var t=this.$.sprintf("%s/tmpl/article_show.html?article_id=%d&FX=%d",this.Config.WapSiteUrl,this.Id,this.userInfo.user_id);t=this.$.sprintf("%s/h5/pagesub/article/detail?id=%d&uid=%d",this.Config.SiteUrl,this.Id,this.userInfo.user_id),this.setData({shareData:{shareTitle:this.article_row.article_title,shareText:this.article_row.article_title,href:t,image:this.article_row.article_image}}),this.$.ifUniApp()&&this.$refs.shareBoxH5.show()}})};t.default=u},d675:function(e,t,i){"use strict";i.r(t);var n=i("1934"),a=i("6894");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);var s=i("f0c5"),o=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"1c1b0c46",null,!1,n["a"],void 0);t["default"]=o.exports}}]);