(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["member-member-settlement-account-manage"],{3827:function(e,t,a){var i=a("8a86");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("4567a452",i,!0,{sourceMap:!1,shadowMode:!1})},"4d89":function(e,t,a){"use strict";a.r(t);var i=a("54ed"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},"54ed":function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{pickerValue:[0,0,0],provinceDataList:[],cityDataList:[],areaDataList:[],showPicker:!1,provinceData:[],cityData:[],areaData:[]}},created:function(){this.init()},props:{pickerValueDefault:{type:Array,default:function(){return[0,0,0]}},themeColor:String},watch:{pickerValueDefault:function(){this.init()}},methods:{init:function(){var e=this;e.$.request({url:e.cf.URL.getAppDistrict,data:{},loading:!1,ajaxCache:{timeout:this.cf.CACHE_EXPIRE},success:function(t,a,i,n){200==a?(e.provinceData=t.provinceData,e.cityData=t.cityData,e.areaData=t.areaData,e.handPickValueDefault(),e.provinceDataList=t.provinceData,e.cityDataList=t.cityData[e.pickerValueDefault[0]],e.areaDataList=t.areaData[e.pickerValueDefault[0]][e.pickerValueDefault[1]],e.pickerValue=e.pickerValueDefault):e.$.alert(e.__("Failure!"))}})},show:function(){var e=this;setTimeout((function(){e.showPicker=!0}),0)},maskClick:function(){this.pickerCancel()},pickerCancel:function(){this.showPicker=!1,this._$emit("onCancel")},pickerConfirm:function(e){this.showPicker=!1,this._$emit("onConfirm")},showPickerView:function(){this.showPicker=!0},handPickValueDefault:function(){this.pickerValueDefault!==[0,0,0]&&(this.pickerValueDefault[0]>this.provinceData.length-1&&(this.pickerValueDefault[0]=this.provinceData.length-1),this.pickerValueDefault[1]>this.cityData[this.pickerValueDefault[0]].length-1&&(this.pickerValueDefault[1]=this.cityData[this.pickerValueDefault[0]].length-1),this.pickerValueDefault[2]>this.areaData[this.pickerValueDefault[0]][this.pickerValueDefault[1]].length-1&&(this.pickerValueDefault[2]=this.areaData[this.pickerValueDefault[0]][this.pickerValueDefault[1]].length-1))},pickerChange:function(e){var t=e.mp.detail.value;this.pickerValue[0]!==t[0]?(this.cityDataList=this.cityData[t[0]],this.areaDataList=this.areaData[t[0]][0],t[1]=0,t[2]=0):this.pickerValue[1]!==t[1]&&(this.areaDataList=this.areaData[t[0]][t[1]],t[2]=0),this.pickerValue=t,this._$emit("onChange")},_$emit:function(e){var t={label:this._getLabel(),value:this._getVale(),cityCode:this._getCityCode()};this.$emit(e,t)},_getLabel:function(){var e=[this.provinceDataList[this.pickerValue[0]].label,this.cityDataList[this.pickerValue[1]].label,this.areaDataList[this.pickerValue[2]].label];return e},_getVale:function(){var e=[this.provinceDataList[this.pickerValue[0]].value,this.cityDataList[this.pickerValue[1]].value,this.areaDataList[this.pickerValue[2]].value];return e},_getCityCode:function(){return this.areaDataList[this.pickerValue[2]].value}}};t.default=i},6081:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"m-cells m-cells-form"},[a("v-uni-view",{staticClass:"m-cell"},[a("v-uni-view",{staticClass:"m-cell-hd"},[a("v-uni-label",{staticClass:"u-label"},[e._v(e._s(e.__("收款方式")))])],1),a("v-uni-view",{staticClass:"m-cell-bd"},[a("v-uni-picker",{attrs:{value:e.index,range:e.bank_list},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindBankIdChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.bank_list[e.index]))])],1)],1)],1),e.show_bank_flag?a("v-uni-view",{staticClass:"m-cell"},[a("v-uni-view",{staticClass:"m-cell-hd"},[a("v-uni-label",{staticClass:"u-label",attrs:{for:""}},[e._v(e._s(e.__("开户支行")))])],1),a("v-uni-view",{staticClass:"m-cell-bd"},[a("v-uni-input",{staticClass:"u-input",attrs:{type:"text",placeholder:e.__("如选择微信/支付宝该项不填")},model:{value:e.user_bank_card_address,callback:function(t){e.user_bank_card_address=t},expression:"user_bank_card_address"}})],1)],1):e._e(),a("v-uni-view",{staticClass:"m-cell"},[a("v-uni-view",{staticClass:"m-cell-hd"},[a("v-uni-label",{staticClass:"u-label",attrs:{for:""}},[e._v(e._s(e.__("收款账号")))])],1),a("v-uni-view",{staticClass:"m-cell-bd"},[a("v-uni-input",{staticClass:"u-input",attrs:{type:"text",placeholder:e.__("请输入收款账号")},model:{value:e.user_bank_card_code,callback:function(t){e.user_bank_card_code=t},expression:"user_bank_card_code"}})],1)],1),a("v-uni-view",{staticClass:"m-cell"},[a("v-uni-view",{staticClass:"m-cell-hd"},[a("v-uni-label",{staticClass:"u-label",attrs:{for:""}},[e._v(e._s(e.__("收款姓名")))])],1),a("v-uni-view",{staticClass:"m-cell-bd"},[a("v-uni-input",{staticClass:"u-input",attrs:{type:"text",placeholder:e.__("请输入收款姓名")},model:{value:e.user_bank_card_name,callback:function(t){e.user_bank_card_name=t},expression:"user_bank_card_name"}})],1)],1),a("v-uni-view",{staticClass:"m-cell"},[a("v-uni-view",{staticClass:"m-cell-hd"},[a("v-uni-label",{staticClass:"u-label",attrs:{for:""}},[e._v(e._s(e.__("预留手机")))])],1),a("v-uni-view",{staticClass:"m-cell-bd"},[a("v-uni-input",{staticClass:"u-input",attrs:{type:"text",placeholder:e.__("预留手机")},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputphone.apply(void 0,arguments)}},model:{value:e.user_bank_card_mobile,callback:function(t){e.user_bank_card_mobile=t},expression:"user_bank_card_mobile"}})],1),e.mobile_flag?e._e():a("div",{staticClass:"m-cell-ft"},[a("v-uni-view",{staticClass:"m-icon-warn uni-icon uni-icon-info",attrs:{type:"warn"}})],1)],1),a("v-uni-view",{staticClass:"m-cell"},[a("v-uni-view",{staticClass:"m-cell-hd"},[a("v-uni-label",{staticClass:"u-label",attrs:{for:""}},[e._v(e._s(e.__("是否默认")))])],1),a("v-uni-view",{staticClass:"m-cell-bd"},[a("v-uni-switch",{attrs:{type:"switch",checked:!!e.user_bank_default},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.ckDefault.apply(void 0,arguments)}}})],1)],1)],1),a("v-uni-button",{staticClass:"u-btn u-btn-default",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitinfo.apply(void 0,arguments)}}},[e._v(e._s(e.__("保存")))])],1)},n=[]},7670:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.pickerMask[data-v-60f6b51d]{position:fixed;z-index:1000;top:0;right:0;left:0;bottom:0;background:rgba(0,0,0,.6)}.mpvue-picker-content[data-v-60f6b51d]{position:fixed;bottom:0;left:0;width:100%;transition:all .3s ease;-webkit-transform:translateY(100%);transform:translateY(100%);z-index:3000}.mpvue-picker-view-show[data-v-60f6b51d]{-webkit-transform:translateY(0);transform:translateY(0)}.mpvue-picker__hd[data-v-60f6b51d]{display:flex;padding:9px 15px;background-color:#fff;position:relative;text-align:center;font-size:17px}.mpvue-picker__hd[data-v-60f6b51d]:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #e5e5e5;color:#e5e5e5;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.mpvue-picker__action[data-v-60f6b51d]{display:block;flex:1;color:#1aad19}.mpvue-picker__action[data-v-60f6b51d]:first-child{text-align:left;color:#888}.mpvue-picker__action[data-v-60f6b51d]:last-child{text-align:right}.picker-item[data-v-60f6b51d]{text-align:center;line-height:40px;text-overflow:ellipsis;white-space:nowrap;font-size:16px}.mpvue-picker-view[data-v-60f6b51d]{position:relative;bottom:0;left:0;width:100%;height:238px;background-color:#fff}',""]),e.exports=t},"8a86":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */[data-v-71ab22b2]:export{theme_bg:#e93323}.btn_box[data-v-71ab22b2]{padding:%?20?%}.m-cell-bd uni-switch[data-v-71ab22b2]{float:right}.m-cell-hd[data-v-71ab22b2]{width:%?180?%}.m-select-box-msk[data-v-71ab22b2]{position:fixed;width:100%;height:100%;left:0;top:0;background-color:rgba(0,0,0,.5);z-index:3}.m-select-box[data-v-71ab22b2]{position:absolute;width:100%;height:300px;background-color:#fff;left:0;bottom:0}.u-select[data-v-71ab22b2]{width:100%;height:300px;text-align:center}.u-select .m-cell-bd[data-v-71ab22b2]{width:100%;line-height:50px;font-size:%?28?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.u-select .m-cell-bd uni-label[data-v-71ab22b2]{width:100%}.m-select-content[data-v-71ab22b2]{position:relative}.m-close-panel[data-v-71ab22b2]{height:%?60?%;border-bottom:%?1?% solid #dfdfdf;font-size:%?24?%;text-align:right;color:#73ae1f;line-height:%?60?%;box-sizing:border-box;padding:0 %?20?%}.m-cell-select-before .m-cell-bd[data-v-71ab22b2]{padding:0}.m-icon-warn[data-v-71ab22b2]{color:red}',""]),e.exports=t},"8b18":function(e,t,a){"use strict";a.r(t);var i=a("ceac"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},"9e73":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mpvue-picker"},[a("div",{class:{pickerMask:e.showPicker},attrs:{catchtouchmove:"true"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.maskClick.apply(void 0,arguments)}}}),a("div",{staticClass:"mpvue-picker-content ",class:{"mpvue-picker-view-show":e.showPicker}},[a("div",{staticClass:"mpvue-picker__hd",attrs:{catchtouchmove:"true"}},[a("div",{staticClass:"mpvue-picker__action",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerCancel.apply(void 0,arguments)}}},[e._v(e._s(e.__("取消")))]),a("div",{staticClass:"mpvue-picker__action",style:{color:e.themeColor},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerConfirm.apply(void 0,arguments)}}},[e._v(e._s(e.__("确定")))])]),a("v-uni-picker-view",{staticClass:"mpvue-picker-view",attrs:{"indicator-style":"height: 40px;",value:e.pickerValue},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerChange.apply(void 0,arguments)}}},[[a("v-uni-picker-view-column",e._l(e.provinceDataList,(function(t,i){return a("div",{key:i,staticClass:"picker-item"},[e._v(e._s(t.label))])})),0),a("v-uni-picker-view-column",e._l(e.cityDataList,(function(t,i){return a("div",{key:i,staticClass:"picker-item"},[e._v(e._s(t.label))])})),0),a("v-uni-picker-view-column",e._l(e.areaDataList,(function(t,i){return a("div",{key:i,staticClass:"picker-item"},[e._v(e._s(t.label))])})),0)]],2)],1)])},n=[]},b074:function(e,t,a){"use strict";var i=a("3827"),n=a.n(i);n.a},ba32:function(e,t,a){var i=a("7670");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("89605b40",i,!0,{sourceMap:!1,shadowMode:!1})},c225:function(e,t,a){"use strict";var i=a("ba32"),n=a.n(i);n.a},ceac:function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ac1f"),a("00b4");var n=i(a("5530")),s=a("26cb"),r=i(a("e294b")),l={components:{mpvueCityPicker:r.default},data:function(){return{options:{},user_bank_id:0,bank_id:0,bank_name:"",user_bank_card_address:"",user_bank_card_code:"",user_bank_card_name:"",user_bank_card_mobile:"",user_bank_default:!1,index:0,bank_list:[],bank_info:[],show_bank_flag:!0,mobile_flag:!0,issub:!1,cityPickerValueDefault:[0,0,0],themeColor:"#007AFF"}},computed:(0,s.mapState)(["Config","StateCode","notice","plantformInfo","shopInfo","userInfo","hasLogin"]),onLoad:function(e){uni.setNavigationBarTitle({title:this.__("账号管理")});var t=this;this.setData({issub:e.issub,user_bank_id:e.user_bank_id||0,options:e});t.$.request({url:t.Config.URL.pay.list_user_bank,data:{},success:function(a,i,n,s){if(200==i){var r=[];for(var l in a.bank_list)r[l]=a.bank_list[l].bank_name;if(t.setData({bank_info:a.bank_list,bank_list:r}),a.bank_list.length>0&&t.setData({bank_id:t.bank_info[0].bank_id,bank_name:t.bank_info[0].bank_name}),1018==t.bank_id||1019==t.bank_id?t.setData({show_bank_flag:!1}):t.setData({show_bank_flag:!0}),e.user_bank_id>0){t.$.setNavigationBarTitle({title:"修改账号"});var c={user_bank_id:e.user_bank_id};t.$.request({url:this.Config.URL.pay.get_user_bank,data:c,success:function(e,a,i,n){200==a&&t.setData({user_bank_row:e,user_bank_id:e.user_bank_id,bank_id:e.bank_id,bank_name:e.bank_name,user_bank_card_address:e.user_bank_card_address,user_bank_card_code:e.user_bank_card_code,user_bank_card_name:e.user_bank_card_name,user_bank_card_mobile:e.user_bank_card_mobile})}})}}}})},onBackPress:function(){if(this.$refs.mpvueCityPicker.showPicker)return this.$refs.mpvueCityPicker.pickerCancel(),!0},onUnload:function(){this.$refs.mpvueCityPicker.showPicker&&this.$refs.mpvueCityPicker.pickerCancel()},methods:(0,n.default)((0,n.default)({},(0,s.mapMutations)(["login","logout","getPlantformInfo","forceUserInfo","getUserInfo"])),{},{bindBankIdChange:function(e){this.index=e.target.value,this.setData({bank_id:this.bank_info[this.index].bank_id,bank_name:this.bank_info[this.index].bank_name}),1018==this.bank_id||1019==this.bank_id?this.setData({show_bank_flag:!1}):this.setData({show_bank_flag:!0})},inputud_name:function(e){this.setData({ud_name:e.detail.value})},inputdetail:function(e){return this.setData({detail:e.detail.value}),e.detail.value},inputphone:function(e){this.setData({user_bank_card_mobile:e.detail.value}),/^1[23456789]\d{9}$/.test(e.detail.value)?this.setData({mobile_flag:!0}):this.setData({mobile_flag:!1})},ckDefault:function(e){this.setData({user_bank_default:e.detail.value})},submitinfo:function(){var e=this;if(!e.$.isNull(e.ud_name)&&!e.$.isNull(e.detail)&&!e.$.isNull(e.phone)&&e.mobile_flag)if(e.selectedCityId<=0)e.$.alert("请选择省市区！");else{var t={user_bank_id:e.user_bank_id?e.user_bank_id:0,ud_name:e.ud_name,ud_province_id:e.selectedProId,ud_city_id:e.selectedCityId,ud_county_id:e.selectedCountyId,ud_province:e.selectedPro,ud_city:e.selectedCity,ud_county:e.selectedCounty,ud_address:e.detail,ud_is_default:e.isDefault?1:0,ud_mobile:e.phone},a=e.options;if(e.user_bank_id)e.$.request({url:this.Config.URL.pay.edit_user_bank,data:t,success:function(t,i,n,s){200==i?e.$.showToast({title:"修改成功",icon:"success",duration:2e3,success:function(){a.issub?e.$.navigateBack(1,(function(){a.user_bank_id=t.user_bank_id,e.notice.postNotificationName("RefreshOrder",a)})):e.$.navigateBack(1,(function(){e.notice.postNotificationName("RefreshAddress",1)}))}}):e.$.alert(n)}});else{t.user_bank_id=this.user_bank_id;a=e.options;e.$.request({url:this.Config.URL.pay.add_user_bank,data:t,success:function(t,i,n,s){200==i?e.$.showToast({title:"修改成功",icon:"success",duration:2e3,success:function(){a.issub?e.$.navigateBack(1,(function(){a.user_bank_id=t.user_bank_id,e.notice.postNotificationName("RefreshOrder",a)})):e.$.navigateBack(1,(function(){e.notice.postNotificationName("RefreshAddress",1)}))}}):e.$.alert(n)}})}}},bindChange:function(e){e.detail.value[0]!=this.value[0]?this.setData({value:[e.detail.value[0],0,0]}):e.detail.value[1]!=this.value[1]?this.setData({value:[e.detail.value[0],e.detail.value[1],0]}):this.setData({value:[e.detail.value[0],e.detail.value[1],e.detail.value[2]]}),this.setData({Pindex:this.value[0],selectedProId:this.Province.pid[this.value[0]],selectedCityId:this.City.cid[this.value[1]],selectedCountyId:this.District.did[this.value[2]],selectedPro:this.Province.pname[this.value[0]],selectedCity:this.City.cname[this.value[1]],selectedCounty:this.District.dname[this.value[2]]})}})};t.default=l},e294b:function(e,t,a){"use strict";a.r(t);var i=a("9e73"),n=a("4d89");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("c225");var r=a("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"60f6b51d",null,!1,i["a"],void 0);t["default"]=l.exports},f71b:function(e,t,a){"use strict";a.r(t);var i=a("6081"),n=a("8b18");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("b074");var r=a("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"71ab22b2",null,!1,i["a"],void 0);t["default"]=l.exports}}]);