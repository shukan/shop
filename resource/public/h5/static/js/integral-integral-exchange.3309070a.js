(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["integral-integral-exchange"],{1022:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("v-uni-view",{staticClass:"bj_able"},[i("v-uni-view",{staticClass:"totalMoney"},[2==t.exchange_type?i("v-uni-view",{staticClass:"able_text"},[t._v(t._s(t.__("可用积分数量"))+"（"+t._s(t.userInfo.user_points)+"）")]):i("v-uni-view",{staticClass:"able_text"},[t._v(t._s(t.__("可用余额"))+"（"+t._s(t.userInfo.user_money)+"）")])],1),i("v-uni-view",{staticClass:"able_input"},[i("v-uni-view",{staticClass:"able_fuhao"},[t._v(t._s(t.Currency))]),i("v-uni-input",{staticClass:"input_lab",attrs:{type:"digit",maxlength:"8"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputnum.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.blur.apply(void 0,arguments)}},model:{value:t.deliveryNum,callback:function(e){t.deliveryNum=e},expression:"deliveryNum"}}),i("v-uni-view",{staticClass:"pict_fal",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearnum.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"fal_pic",attrs:{src:"/static/images/false.png"}})],1)],1),i("v-uni-view",{staticClass:"pay"},[1==t.CouponEnabeld&&t.isCoupon?i("v-uni-view",{staticClass:"coupon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.suitcouponlist.apply(void 0,arguments)}}},[i("v-uni-view",[i("v-uni-text",{staticStyle:{"letter-spacing":"2.4rpx","font-size":"26rpx"}},[t._v(t._s(t.__("优惠券")))])],1),i("v-uni-view",{staticStyle:{color:"#db384c"}},[t._v("-"+t._s(t.Currency)+t._s(t.DiscountMoney)),i("v-uni-text",{staticClass:"m-cell-ft"})],1)],1):t._e(),t.MaxUsableCash>0&&t.isECashCard?i("v-uni-view",{staticClass:"coupon"},[i("v-uni-view",{},[i("v-uni-text",{staticStyle:{"font-size":"26rpx"}},[t._v(t._s(t.__("余额抵扣")))]),i("v-uni-text",{staticStyle:{"font-size":"24rpx",color:"#333333"}},[t._v("("+t._s(t.__("可使用"))+t._s(t.Currency)+t._s(t.MaxUsableCash)+")")])],1),i("v-uni-view",{},[t.isBalance?i("v-uni-text",{staticStyle:{position:"absolute",right:"19%",color:"#db384c"}},[t._v(t._s(t.Currency)+t._s(t.balance))]):t._e(),i("v-uni-switch",{staticStyle:{transform:"scale(0.6)",position:"absolute",right:"36rpx"},attrs:{checked:!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.switchChange.apply(void 0,arguments)}}})],1)],1):t._e(),i("v-uni-view",{staticClass:" payments"},[i("v-uni-label",{staticStyle:{"letter-spacing":"2.4rpx","font-size":"26rpx"}},[t._v(t._s(t.__("实付款")))]),i("v-uni-text",{staticStyle:{color:"#db384c"}},[t._v(t._s(t.Currency)+t._s(t.realPayMoney))])],1)],1),t.isSubmit?i("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.paysubmit.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"payment",attrs:{formType:"submit"}},[t._v(t._s(t.__("确认兑换")))])],1):i("v-uni-form",{attrs:{"report-submit":"true"}},[i("v-uni-button",{staticClass:"payment",attrs:{formType:"submit"}},[t._v(t._s(t.__("确认兑换")))])],1),t.Description?i("v-uni-view",{staticClass:"explain"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.__("买单说明：")))]),i("v-uni-view",{staticClass:"content"},[t._v(t._s(t.Description))])],1):t._e()],1),i("v-uni-view",{staticClass:"u-top-default"},[i("v-uni-navigator",{staticClass:"u-back2",attrs:{url:"/pages/index/index","open-type":"switchTab"}},[i("v-uni-image",{attrs:{src:"https://static.shopsuite.cn/xcxfile/appicon/img/gohome.png"}})],1)],1)],1)},a=[]},3912:function(t,e,i){var n=i("422a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("0431714e",n,!0,{sourceMap:!1,shadowMode:!1})},"422a":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */[data-v-2647835c]:export{theme_bg:#e93323}.totalMoney[data-v-2647835c]{width:90%;display:flex;margin:%?24?% auto 0;justify-content:space-betwee;height:%?92?%;border-radius:%?8?%}.totalMoney uni-label[data-v-2647835c]{width:54%;height:%?92?%;line-height:%?92?%;font-size:%?26?%;color:#000}.totalMoney uni-input[data-v-2647835c]{height:%?92?%;line-height:%?92?%;font-size:%?26?%;text-align:right;margin-right:%?20?%}.nodiscount[data-v-2647835c]{width:90%;margin:%?51?% auto %?20?% auto}.check[data-v-2647835c]{height:%?58?%;line-height:%?58?%;font-size:%?26?%;color:grey}.discount[data-v-2647835c]{height:%?85?%;line-height:%?90?%;padding:0 %?40?%;background:#fff;font-size:%?28?%;color:#000;margin:%?24?% 0}.pay[data-v-2647835c]{padding:0 %?40?%;background:#fff}.coupon[data-v-2647835c]{display:flex;justify-content:space-between;height:%?98?%;line-height:%?98?%;font-size:%?26?%;color:#000;border-bottom:%?1?% solid #f1f1f1}.payments[data-v-2647835c]{display:flex;justify-content:space-between;height:%?98?%;line-height:%?98?%;font-size:%?28?%;color:#000}.payment[data-v-2647835c]{width:90%;height:%?80?%;line-height:%?82?%;background:#db384c;color:#fff;margin-top:%?50?%}.explain[data-v-2647835c]{width:90%;margin:%?50?% auto}.title[data-v-2647835c]{font-size:%?28?%;color:#000}.content[data-v-2647835c]{font-size:%?24?%;color:#717171;margin-top:%?10?%}.m-cell-ft[data-v-2647835c]::after{content:" ";display:inline-block;height:%?12?%;width:%?12?%;border-width:%?4?% %?4?% 0 0;border-color:#999;border-style:solid;-webkit-transform:matrix(.71,.71,-.71,.71,0,0);transform:matrix(.71,.71,-.71,.71,0,0);position:relative;margin-top:%?-8?%;top:%?-4?%;right:%?-4?%}.u-back2 uni-image[data-v-2647835c]{border-radius:100%;width:%?77?%;height:%?77?%;border:1px solid #eee;font-size:%?20?%;text-align:center;background-color:#fff;box-shadow:0 %?4?% %?8?% rgba(0,0,0,.35);z-index:999;opacity:.8;line-height:%?77?%;margin-bottom:%?20?%}.bj_able[data-v-2647835c]{background:#fff;width:92%;margin:0 auto;padding-bottom:%?40?%}.able_text[data-v-2647835c]{letter-spacing:%?2?%;width:80%;height:%?92?%;line-height:%?92?%;font-size:%?26?%;color:#000}.able_input[data-v-2647835c]{width:90%;margin:%?20?% auto 0 auto;border-bottom:%?1?% solid #f1f1f1;height:%?110?%;display:flex}.able_fuhao[data-v-2647835c]{font-family:PingFangSC-Medium;font-size:%?60?%;color:#000;letter-spacing:%?0.84?%;text-align:center;line-height:%?94?%;margin-right:%?10?%;font-weight:700}\r\n/* .input_lab { float: left; width: 75%; height: 100%; } */.checkbox[data-v-2647835c]{font-family:PingFangSC-Regular;font-size:%?26?%;color:#7b7b7b;letter-spacing:%?0.5?%;text-align:center}.no_lab[data-v-2647835c]{width:90%;display:flex;margin:%?24?% auto 0;justify-content:space-betwee;height:%?98?%;border-radius:%?8?%;line-height:%?98?%;border-bottom:%?1?% solid #f1f1f1}.pict_fal[data-v-2647835c]{width:%?38?%;height:%?38?%;position:absolute;top:%?161?%;right:9%}.fal_pic[data-v-2647835c]{width:%?38?%;height:%?38?%}.input_lab[data-v-2647835c]{width:87%;font-family:UICTFontTextStyleBody;font-size:%?74?%;height:%?74?%;\r\n  /* line-height:74rpx; */\r\n  /* padding:8rpx 0; */min-height:%?83?%;line-height:normal;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;vertical-align:middl;font-weight:700}',""]),t.exports=e},5347:function(t,e,i){"use strict";i.r(e);var n=i("efdb"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},5741:function(t,e,i){"use strict";i.r(e);var n=i("1022"),a=i("5347");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("c241");var s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"2647835c",null,!1,n["a"],void 0);e["default"]=r.exports},c241:function(t,e,i){"use strict";var n=i("3912"),a=i.n(n);a.a},efdb:function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac1f"),i("00b4");var a=n(i("5530")),o=i("26cb"),s={data:function(){return{money:"",nodiscount:"",discount:"",isshow:!1,deliveryNum:"",isshow1:!1,shop_discount:10,totalMoney:"",payment:0,info:[],orderNum:"",formId:"",time:"",Description:"",MoneyLimit:"",CouponEnabeld:"",discountvalue:"",nodiscountvalue:"",DiscountMoney:"0.00",couponItemId:0,IsUseCoupon:1,MaxUsableCash:0,MaxUsableECardCash:0,MaxUsableExtraCash:0,balance:0,realMoney:0,isBalance:!0,eCardCash:0,extraCash:0,realPayMoney:0,isECashCard:!0,isCoupon:!0,isSubmit:!0,Currency:__("￥"),store_id:0,title:"",exchange_type:1}},computed:(0,o.mapState)(["Config","StateCode","notice","plantformInfo","shopInfo","userInfo","hasLogin"]),onLoad:function(t){uni.setNavigationBarTitle({title:this.__("积分兑换")});var e=this;e.setData({exchange_type:t.type?t.type:1}),1==e.exchange_type?e.title="余额兑换积分":e.title="积分转余额",e.$.setNavigationBarTitle({title:e.title}),e.getPlantformInfo((function(i){e.forceUserInfo((function(i){e.setData({Currency:" ",store_id:1001}),e.load(t)}))}))},onUnload:function(){this.notice.removeNotification("RefreshCoupon1",this)},methods:(0,a.default)((0,a.default)({},(0,o.mapMutations)(["login","logout","getPlantformInfo","forceUserInfo","getUserInfo","reloadUserResource"])),{},{load:function(t){},clearnum:function(t){this.setData({deliveryNum:"",realPayMoney:""})},inputnum:function(t){var e=t.detail.value;if(1==this.exchange_type){var i=e*this.Config.POINTS_VAUE_RATE;i>this.userInfo.user_money&&(e=Math.ceil(this.userInfo.user_money/this.Config.POINTS_VAUE_RATE),this.$.alert(this.$.sprintf("最多兑换 %d 积分",e)),this.setData({deliveryNum:e})),this.setData({realPayMoney:e*this.Config.POINTS_VAUE_RATE})}else e>this.userInfo.user_points&&(e=this.userInfo.user_points,this.$.alert(this.$.sprintf("积分最多可用 %d",this.userInfo.user_points)),this.setData({deliveryNum:this.userInfo.user_points})),this.setData({realPayMoney:e*this.Config.POINTS_VAUE_RATE})},blur:function(t){/^\d{1,10}(\.\d{1,2})?$/.test(t.detail.value)||this.$.showModal({title:"提示",content:"请输入正确金额"})},paysubmit:function(t){var e=this;if(e.$.isNull(this.deliveryNum)||0==this.deliveryNum)return e.$.showModal({title:"提示",content:"请输入积分总数"});if(!/^\d{1,10}(\.\d{1,2})?$/.test(e.deliveryNum))return e.$.showModal({title:"提示",content:"请输入正确金额"});var i=e.Config.URL.user.money2points,n=e.$.sprintf("确认{￥%.2f兑换%i积分?",e.realPayMoney,e.deliveryNum);1==e.exchange_type||(i=e.Config.URL.user.points2money,n=e.$.sprintf("确认%i积分转为余额￥%.2f?",e.deliveryNum,e.realPayMoney)),e.$.confirm(n,(function(t){t.confirm&&e.$.request({type:"post",url:i,data:{points_num:e.deliveryNum},dataType:"json",success:function(t,i,n,a){200==i?(e.$.alert(e.__("转赠成功！")),setTimeout((function(){e.reloadUserResource((function(t){e.$.gopage("/integral/integral/record")}))}),2e3)):e.$.alert(n)}})}),!0)},gotopay:function(){},switchChange:function(t){t.detail.value?this.setData({realPayMoney:this.realMoney,isBalance:!0}):this.setData({realPayMoney:this.payment,isBalance:!1})}})};e.default=s}}]);