(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["member-member-message"],{"1af5":function(a,e,t){"use strict";t("7a82");var s=t("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t("99af"),t("e25e");var r=s(t("5530")),i=s(t("feb9")),n=s(t("29fd")),o=t("26cb"),d={components:{uParse:n.default},data:function(){return{message_rows:[],page:1,ispage:!1,flag:!1}},computed:(0,o.mapState)(["Config","StateCode","notice","plantformInfo","shopInfo","userInfo","hasLogin"]),onLoad:function(a){uni.setNavigationBarTitle({title:this.__("消息")});this.getUserMessage()},methods:(0,r.default)((0,r.default)({},(0,o.mapMutations)(["login","logout","getPlantformInfo","forceUserInfo","getUserInfo"])),{},{getUserMessage:function(){var a=this,e={page:this.page};a.$.request({url:this.Config.URL.user.msg_lists,data:e,success:function(e,t,s,r){if(e.items.length>0){for(var n=0;n<e.items.length;n++)e.items[n]["message_time_str"]=i.default.dateUtils.format(a.$.formatDateFormatter(e.items[n]["message_time"]));e.page>=e.total?a.setData({message_rows:a.message_rows.concat(e.items),flag:!1,ispage:!1}):a.setData({message_rows:a.message_rows.concat(e.items),flag:!0,ispage:!0})}else a.setData({flag:!1,ispage:!1})}})},scrollbottom:function(a){if(this.flag&&this.ispage){var e=this;e.setData({flag:!1}),clearTimeout(t);var t=setTimeout((function(){e.setData({page:parseInt(e.page)+1}),e.getUserMessage()}),500)}},showMsgDetail:function(a){for(var e="/member/member/messagedetail?message_id="+a,t=0;t<this.message_rows.length;t++)a==this.message_rows[t]["message_id"]&&this.$set(this.message_rows[t],"message_is_read",1);uni.navigateTo({url:e})},preview:function(a,e){},navigate:function(a,e){console.info(a),console.info(e)}})};e.default=d},"48d3":function(a,e,t){var s=t("24fb");e=s(!1),e.push([a.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/**\r\n * author: Di (微信小程序开发工程师)\r\n * organization: WeAppDev(微信小程序开发论坛)(http://weappdev.com)\r\n *         垂直微信小程序开发交流社区\r\n *\r\n * github地址: https://github.com/icindy/wxParse\r\n *\r\n * for: 微信小程序富文本解析\r\n * detail : http://weappdev.com/t/wxparse-alpha0-1-html-markdown/184\r\n */.wxParse[data-v-1f0229b8]{width:100%;font-family:Helvetica,sans-serif;font-size:%?30?%;color:#666;line-height:1.8}.wxParse uni-view[data-v-1f0229b8]{word-break:hyphenate}.wxParse .inline[data-v-1f0229b8]{display:inline;margin:0;padding:0}.wxParse .div[data-v-1f0229b8]{margin:0;padding:0}.wxParse .h1 .text[data-v-1f0229b8]{font-size:2em;margin:.67em 0}.wxParse .h2 .text[data-v-1f0229b8]{font-size:1.5em;margin:.83em 0}.wxParse .h3 .text[data-v-1f0229b8]{font-size:1.17em;margin:1em 0}.wxParse .h4 .text[data-v-1f0229b8]{margin:1.33em 0}.wxParse .h5 .text[data-v-1f0229b8]{font-size:.83em;margin:1.67em 0}.wxParse .h6 .text[data-v-1f0229b8]{font-size:.67em;margin:2.33em 0}.wxParse .h1 .text[data-v-1f0229b8],\r\n.wxParse .h2 .text[data-v-1f0229b8],\r\n.wxParse .h3 .text[data-v-1f0229b8],\r\n.wxParse .h4 .text[data-v-1f0229b8],\r\n.wxParse .h5 .text[data-v-1f0229b8],\r\n.wxParse .h6 .text[data-v-1f0229b8],\r\n.wxParse .b[data-v-1f0229b8],\r\n.wxParse .strong[data-v-1f0229b8]{font-weight:bolder}.wxParse .p[data-v-1f0229b8]{margin:1em 0}.wxParse .i[data-v-1f0229b8],\r\n.wxParse .cite[data-v-1f0229b8],\r\n.wxParse .em[data-v-1f0229b8],\r\n.wxParse .var[data-v-1f0229b8],\r\n.wxParse .address[data-v-1f0229b8]{font-style:italic}.wxParse .pre[data-v-1f0229b8],\r\n.wxParse .tt[data-v-1f0229b8],\r\n.wxParse .code[data-v-1f0229b8],\r\n.wxParse .kbd[data-v-1f0229b8],\r\n.wxParse .samp[data-v-1f0229b8]{font-family:monospace}.wxParse .pre[data-v-1f0229b8]{overflow:auto;background:#f5f5f5;padding:%?16?%;white-space:pre;margin:1em %?0?%}.wxParse .code[data-v-1f0229b8]{display:inline;background:#f5f5f5}.wxParse .big[data-v-1f0229b8]{font-size:1.17em}.wxParse .small[data-v-1f0229b8],\r\n.wxParse .sub[data-v-1f0229b8],\r\n.wxParse .sup[data-v-1f0229b8]{font-size:.83em}.wxParse .sub[data-v-1f0229b8]{vertical-align:sub}.wxParse .sup[data-v-1f0229b8]{vertical-align:super}.wxParse .s[data-v-1f0229b8],\r\n.wxParse .strike[data-v-1f0229b8],\r\n.wxParse .del[data-v-1f0229b8]{text-decoration:line-through}.wxParse .strong[data-v-1f0229b8],\r\n.wxParse .s[data-v-1f0229b8]{display:inline}.wxParse .a[data-v-1f0229b8]{color:#00bfff}.wxParse .video[data-v-1f0229b8]{text-align:center;margin:%?22?% 0}.wxParse .video-video[data-v-1f0229b8]{width:100%}.wxParse .img[data-v-1f0229b8]{display:inline-block;width:0;height:0;max-width:100%;overflow:hidden}.wxParse .blockquote[data-v-1f0229b8]{margin:%?10?% 0;padding:%?22?% 0 %?22?% %?22?%;font-family:Courier,Calibri,宋体;background:#f5f5f5;border-left:%?6?% solid #dbdbdb}.wxParse .blockquote .p[data-v-1f0229b8]{margin:0}.wxParse .ul[data-v-1f0229b8], .wxParse .ol[data-v-1f0229b8]{display:block;margin:1em 0;padding-left:%?33?%}.wxParse .ol[data-v-1f0229b8]{list-style-type:disc}.wxParse .ol[data-v-1f0229b8]{list-style-type:decimal}.wxParse .ol>weixin-parse-template[data-v-1f0229b8],.wxParse .ul>weixin-parse-template[data-v-1f0229b8]{display:list-item;align-items:baseline;text-align:match-parent}.wxParse .ol>.li[data-v-1f0229b8],.wxParse .ul>.li[data-v-1f0229b8]{display:list-item;align-items:baseline;text-align:match-parent}.wxParse .ul .ul[data-v-1f0229b8], .wxParse .ol .ul[data-v-1f0229b8]{list-style-type:circle}.wxParse .ol .ol .ul[data-v-1f0229b8], .wxParse .ol .ul .ul[data-v-1f0229b8], .wxParse .ul .ol .ul[data-v-1f0229b8], .wxParse .ul .ul .ul[data-v-1f0229b8]{list-style-type:square}.wxParse .u[data-v-1f0229b8]{text-decoration:underline}.wxParse .hide[data-v-1f0229b8]{display:none}.wxParse .del[data-v-1f0229b8]{display:inline}.wxParse .figure[data-v-1f0229b8]{overflow:hidden}.wxParse .table[data-v-1f0229b8]{width:100%}.wxParse .thead[data-v-1f0229b8], .wxParse .tfoot[data-v-1f0229b8], .wxParse .tr[data-v-1f0229b8]{display:flex;flex-direction:row}.wxParse .tr[data-v-1f0229b8]{width:100%;display:flex;border-right:%?2?% solid #e0e0e0;border-bottom:%?2?% solid #e0e0e0}.wxParse .th[data-v-1f0229b8],\r\n.wxParse .td[data-v-1f0229b8]{display:flex;width:%?1276?%;overflow:auto;flex:1;padding:%?11?%;border-left:%?2?% solid #e0e0e0}.wxParse .td[data-v-1f0229b8]:last{border-top:%?2?% solid #e0e0e0}.wxParse .th[data-v-1f0229b8]{background:#f0f0f0;border-top:%?2?% solid #e0e0e0}[data-v-1f0229b8]:export{theme_bg:#e93323}.qkk[data-v-1f0229b8]{font-size:%?24?%;color:#999}.commodity_shopImg[data-v-1f0229b8]{width:%?70?%;height:%?70?%;border-radius:100%;overflow:hidden}.m-orderlist[data-v-1f0229b8]{position:absolute;top:0;left:0;width:100%;height:100%}.m-cell.active[data-v-1f0229b8]{font-weight:700}',""]),a.exports=e},"49d4":function(a,e,t){"use strict";t.r(e);var s=t("5f1f"),r=t("bcc9");for(var i in r)["default"].indexOf(i)<0&&function(a){t.d(e,a,(function(){return r[a]}))}(i);t("d67d");var n=t("f0c5"),o=Object(n["a"])(r["default"],s["b"],s["c"],!1,null,"1f0229b8",null,!1,s["a"],void 0);e["default"]=o.exports},"5f1f":function(a,e,t){"use strict";t.d(e,"b",(function(){return r})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return s}));var s={uParse:t("29fd").default},r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return a.message_rows.length>0?t("v-uni-scroll-view",{staticClass:"m-orderlist",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=a.$handleEvent(e),a.scrollbottom.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"m-panel-bd"},[t("v-uni-view",{staticClass:"m-media-box m-media-box-small-appmsg"},[t("v-uni-view",{staticClass:"m-cells"},[a._l(a.message_rows,(function(e,s){return[t("v-uni-view",{key:s+"_0",class:["m-cell","m-cell-access",e.message_is_read?"":"active"],staticStyle:{padding:"38rpx 30rpx",color:"#747474"},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.showMsgDetail(e.message_id)}}},[t("v-uni-view",{staticClass:"m-cell-hd ",staticStyle:{color:"#44afa4"}},[t("v-uni-view",{staticClass:"commodity_shopImg"},[t("v-uni-image",{staticClass:"commodity_shopImg",attrs:{src:e.user_other_avatar}})],1)],1),t("v-uni-view",{staticClass:"m-cell-bd m-cell-primary"},[t("p",{staticStyle:{"font-size":"24rpx","padding-left":"30rpx"}},[e.message_is_read?a._e():t("v-uni-label",{staticStyle:{color:"#007AFF","padding-right":"10rpx"}},[a._v(a._s(a.__("未读")))]),t("v-uni-label",{staticStyle:{color:"#007AFF","padding-right":"10rpx"}},[a._v(a._s(e.message_time_str))]),t("u-parse",{attrs:{content:e.message_content+"",imageProp:{lazyLoad:!0}}})],1)]),t("span",{staticClass:"qkk hide"},[a._v(a._s(a.__("去看看")))]),t("v-uni-text",{staticClass:"m-cell-ft hide"})],1)]}))],2)],1)],1),t("v-uni-view",{staticClass:"m-loading-box"},[a.ispage?[t("v-uni-view",{staticClass:"u-loadmore"},[t("v-uni-label",{staticClass:"u-loading"}),t("v-uni-text",{staticClass:"u-loadmore-tips"},[a._v(a._s(a.__("正在加载")))])],1),t("v-uni-view",[t("v-uni-text")],1)]:[t("v-uni-view",{staticClass:"u-loadmore u-loadmore-line"},[t("v-uni-text",{staticClass:"u-loadmore-tips",staticStyle:{"background-color":"#fff"}},[a._v(a._s(a.__("已经没有了")))])],1)]],2)],1):t("v-uni-view",{staticClass:"m-nullpage"},[t("v-uni-view",{staticClass:"m-nullpage-middle"},[t("v-uni-view",{staticClass:"m-null-tip"},[t("v-uni-text",[a._v(a._s(a.__("没有社区相关消息")))])],1)],1)],1)},i=[]},bcc9:function(a,e,t){"use strict";t.r(e);var s=t("1af5"),r=t.n(s);for(var i in s)["default"].indexOf(i)<0&&function(a){t.d(e,a,(function(){return s[a]}))}(i);e["default"]=r.a},d67d:function(a,e,t){"use strict";var s=t("d89a"),r=t.n(s);r.a},d89a:function(a,e,t){var s=t("48d3");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[a.i,s,""]]),s.locals&&(a.exports=s.locals);var r=t("4f06").default;r("50a51b05",s,!0,{sourceMap:!1,shadowMode:!1})},feb9:function(a,e,t){"use strict";t("7a82");var s=t("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t("e25e"),t("d81d"),t("d401"),t("d3b7"),t("25f0"),t("acd8"),t("ac1f"),t("1276");var r=s(t("4e36"));var i={};i[r.default.__("年")]=315576e5,i[r.default.__("月")]=26298e5,i[r.default.__("天")]=864e5,i[r.default.__("小时")]=36e5,i[r.default.__("分钟")]=6e4,i[r.default.__("秒")]=1e3;var n={UNITS:i,humanize:function(a){var e="";for(var t in this.UNITS)if(a>=this.UNITS[t]){e=Math.floor(a/this.UNITS[t])+t+r.default.__("前");break}return e||r.default.__("刚刚")},format:function(a){var e=this.parse(a),t=Date.now()-e.getTime();if(t<864e5)return this.humanize(t);return e.format("yyyy-MM-dd hh:mm")},parse:function(a){var e=a.split(/[^0-9]/);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5])}},o={formatTime:function(a){if("number"!==typeof a||a<0)return a;var e=parseInt(a/3600);a%=3600;var t=parseInt(a/60);a%=60;var s=a;return[e,t,s].map((function(a){return a=a.toString(),a[1]?a:"0"+a})).join(":")},formatLocation:function(a,e){return"string"===typeof a&&"string"===typeof e&&(a=parseFloat(a),e=parseFloat(e)),a=a.toFixed(2),e=e.toFixed(2),{longitude:a.toString().split("."),latitude:e.toString().split(".")}},dateUtils:n};e.default=o}}]);