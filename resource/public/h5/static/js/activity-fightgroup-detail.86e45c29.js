(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["activity-fightgroup-detail"],{"06f8":function(t,i,e){"use strict";e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("a9e3"),e("ac1f"),e("466d"),e("e25e");var n={name:"day-countdown",props:{bgrColor:{type:String,default:"#FFFFFF"},borderColor:{type:String,default:"#000000"},fontColor:{type:String,value:"#000000"},splitorColor:{type:String,default:"#000000"},timer:{type:String,default:""},Type:{type:Number,default:0}},data:function(){return{setTime:null,d:"00",h:"00",i:"00",s:"00",leftTime:0}},created:function(t){var i=this.timer.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2}) ([0-9]{2}):([0-9]{2}):([0-9]{2})$/);if(null==i)return!1;var e=parseInt(i[1]);if(e<1e3)return!1;var n=parseInt(i[2]),a=parseInt(i[3]),o=parseInt(i[4]);if(o<0||o>24)return!1;var s=parseInt(i[5]);if(s<0||s>60)return!1;var r=parseInt(i[6]);if(r<0||r>60)return!1;var u=new Date(e,n-1,a,o,s,r);this.leftTime=u,this.countDown(this),this.setInterValFunc(this)},beforeDestroy:function(){clearInterval(this.setTime)},methods:{setInterValFunc:function(t){this.setTime=setInterval((function(){t.countDown(t)}),1e3)},countDown:function(t){var i=t.leftTime-new Date;if(i>0)var e=parseInt(i/1e3/60/60/24,10),n=parseInt(i/1e3/60/60%24,10),a=parseInt(i/1e3/60%60,10),o=parseInt(i/1e3%60,10);else e=0,n=0,a=0,o=0;e<10&&(e="0"+e),n<10&&(n="0"+n),a<10&&(a="0"+a),o<10&&(o="0"+o),t.d=e,t.h=n,t.i=a,t.s=o}}};i.default=n},2178:function(t,i,e){var n=e("e9b1");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("72a397e7",n,!0,{sourceMap:!1,shadowMode:!1})},"307b":function(t,i,e){"use strict";e.r(i);var n=e("b3c1"),a=e("5788");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("7acb");var s=e("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"fe549e7a",null,!1,n["a"],void 0);i["default"]=r.exports},"33d9":function(t,i,e){"use strict";e.r(i);var n=e("3d67"),a=e("d3c4");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("a9b3");var s=e("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"15148252",null,!1,n["a"],void 0);i["default"]=r.exports},"3d67":function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return n}));var n={lPainter:e("2afc").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"page"},[e("v-uni-scroll-view",{staticStyle:{position:"absolute",height:"100%",width:"100%"},attrs:{"scroll-y":"true"},on:{scrolltolower:function(i){arguments[0]=i=t.$handleEvent(i),t.scrollPage.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"m-product-list"},[e("v-uni-navigator",{staticClass:"m-product-item m-product-GP",attrs:{url:"/pagesub/product/detail?id="+t.gbInfo.item_id+"&gb_id="+t.gbInfo.gb_id}},[e("v-uni-view",{staticClass:"m-product-img"},[e("v-uni-image",{attrs:{"lazy-load":!0,src:t.gbInfo.order_item_image}})],1),e("v-uni-view",{staticClass:"m-product-info"},[e("v-uni-view",{staticClass:"m-product-name"},[e("v-uni-label",[t._v(t._s(t.gbInfo.product_name))]),e("v-uni-label",{staticClass:"m-min-name",staticStyle:{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"1"}},[t._v(t._s(t.gbInfo.item_name?t.gbInfo.item_name:""))]),e("v-uni-view",{staticClass:"groupNumber",staticStyle:{"margin-top":"8rpx"}},[e("v-uni-text",[t._v(t._s(t.gbInfo.gb_quantity))]),t._v(t._s(t.__(" 人团省 "))+"\n              "+t._s(t.__("￥"))+t._s(t.number_format(t.gbInfo.item_unit_price-t.gbInfo.order_item_sale_price,2)||0))],1)],1),e("v-uni-view",{staticStyle:{position:"absolute",bottom:"20rpx"}},[e("v-uni-view",{staticClass:"m-product-price"},[e("v-uni-label",[t._v(t._s(t.__("￥")))]),t._v(t._s(t.number_format(t.gbInfo.order_item_sale_price,2)||0)),e("v-uni-label",{staticClass:"u-del-price"},[t._v(t._s(t.__("￥"))+t._s(t.number_format(t.gbInfo.item_unit_price,2)||0))])],1)],1),e("v-uni-view",{staticClass:"isSucces"},[1==t.gbInfo.gb_enable?e("v-uni-image",{staticClass:"simg",attrs:{"lazy-load":!0,src:"https://static.shopsuite.cn/xcxfile/appicon/groupbooking/success.png"}}):t._e(),0==t.gbInfo.gb_enable?e("v-uni-image",{staticClass:"simg",attrs:{"lazy-load":!0,src:"https://static.shopsuite.cn/xcxfile/appicon/groupbooking/failure.png"}}):t._e()],1)],1)],1),e("v-uni-view",{staticClass:"headPhoto"},[t._l(t.groupUsers,(function(i,n){return e("v-uni-view",{key:n,staticClass:"personPhoto"},[e("v-uni-image",{staticClass:"photo",attrs:{"lazy-load":!0,src:i.user_avatar}}),t.gbInfo.user_id==i.user_id?e("v-uni-image",{staticClass:"photo-icon",attrs:{"lazy-load":!0,src:"https://slqdho2ouat-dhqc-dhqc.s3-zz-prda.sail-cloud.com/xcxfile/appicon/groupbooking/group_leader.png"}}):t._e()],1)})),t.gbInfo.gb_quantity-t.gbInfo.gb_amount_quantity>=0&&(t.gbInfo.gb_quantity>8?8-t.gbInfo.gb_amount_quantity:t.gbInfo.gb_quantity-t.gbInfo.gb_amount_quantity)?e("v-uni-view",{staticClass:"personPhoto"},t._l(t.gbInfo.gb_quantity-t.gbInfo.gb_amount_quantity,(function(t){return e("v-uni-view",{key:t,staticStyle:{display:"inline-block"}},[e("v-uni-image",{staticClass:"photo-bg",attrs:{"lazy-load":!0,src:"https://slqdho2ouat-dhqc-dhqc.s3-zz-prda.sail-cloud.com/xcxfile/appicon/groupbooking/waiting.png"}})],1)})),1):t._e()],2),2==t.gbInfo.gb_enable&&t.show?e("v-uni-view",{staticClass:"surplus"},[e("v-uni-view",[t._v(t._s(t.sprintf(t.__("仅剩%s名额，"),t.gbInfo.gb_quantity-t.gbInfo.gb_amount_quantity)))]),e("v-uni-label",{staticStyle:{"min-width":"160rpx"}},[e("day-countdown",{attrs:{timer:t.gbInfo.gb_endtime,Type:2}})],1),e("v-uni-label",[t._v(t._s(t.__("后结束")))])],1):t._e(),t.show?[2!=t.gbInfo.gb_enable||t.groupIsEnd?t._e():e("v-uni-view",{staticClass:"m-btn-box"},[e("v-uni-view",{staticClass:"u-btn u-btn-default",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.shareBox.apply(void 0,arguments)}}},[t._v(t._s(t.__("邀请好友参团")))])],1),0==t.gbInfo.gb_enable?e("v-uni-navigator",{staticClass:"m-btn-box",attrs:{url:"/activity/fightgroup/list"}},[e("v-uni-view",{staticClass:"u-btn u-btn-default"},[t._v(t._s(t.__("点击再开一团")))])],1):t._e(),1==t.gbInfo.gb_enable?e("v-uni-navigator",{staticClass:"m-btn-box",attrs:{url:"/activity/fightgroup/list"}},[e("v-uni-view",{staticClass:"u-btn u-btn-default"},[t._v(t._s(t.__("点击再开一团")))])],1):t._e(),2!=t.gbInfo.gb_enable||t.ispaysuccess?t._e():e("v-uni-view",{staticClass:"m-btn-box"},[e("v-uni-view",{staticClass:"u-btn u-btn-default",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.immediatelyOffered.apply(void 0,arguments)}}},[t._v(t._s(t.__("参与活动")))])],1)]:t._e()],2),e("v-uni-view",{staticClass:"rule"},[e("v-uni-view",{staticClass:"rule-header"},[t._v(t._s(t.__("拼团规则")))]),e("v-uni-view",{staticClass:"rule-content"},[t._v(t._s(t.gbInfo.activity_remark))])],1),e("v-uni-view",{staticClass:"link"},[e("v-uni-navigator",{staticClass:"nav",attrs:{url:"/pages/index/index","open-type":"switchTab"}},[e("v-uni-image",{staticClass:"nav-img",attrs:{"lazy-load":!0,src:"https://static.shopsuite.cn/xcxfile/appicon/images/index.png"}}),e("v-uni-text",[t._v(t._s(t.__("首页逛逛")))])],1),e("v-uni-navigator",{staticClass:"nav",attrs:{url:"/pages/category/category","open-type":"switchTab"}},[e("v-uni-image",{staticClass:"nav-img",attrs:{"lazy-load":!0,src:"https://static.shopsuite.cn/xcxfile/appicon/images/allproduct.png"}}),e("v-uni-text",[t._v(t._s(t.__("全部商品")))])],1),e("v-uni-navigator",{staticClass:"nav",attrs:{url:"/activity/coupon/list"}},[e("v-uni-image",{staticClass:"nav-img",attrs:{"lazy-load":!0,src:"https://static.shopsuite.cn/xcxfile/appicon/images/coupon.png"}}),e("v-uni-text",[t._v(t._s(t.__("领券中心")))])],1),e("v-uni-navigator",{staticClass:"nav",attrs:{url:"/pages/index/member","open-type":"switchTab"}},[e("v-uni-image",{staticClass:"nav-img",attrs:{"lazy-load":!0,src:"https://static.shopsuite.cn/xcxfile/appicon/images/center.png"}}),e("v-uni-text",[t._v(t._s(t.__("个人中心")))])],1)],1)],1),e("share-box-mp",{ref:"shareBoxMp",attrs:{shareDataDefault:t.shareData},on:{cancelShare:function(i){arguments[0]=i=t.$handleEvent(i),t.cancelShare.apply(void 0,arguments)},showCodeImg:function(i){arguments[0]=i=t.$handleEvent(i),t.showCodeImg.apply(void 0,arguments)},shareQRCode:function(i){arguments[0]=i=t.$handleEvent(i),t.shareQRCode.apply(void 0,arguments)},saveImg:function(i){arguments[0]=i=t.$handleEvent(i),t.saveImg.apply(void 0,arguments)}}}),e("share-box-app",{ref:"shareBoxApp",attrs:{shareDataDefault:t.shareData}}),e("l-painter",{ref:"painter",attrs:{useCORS:!0,isCanvasToTempFilePath:!0,"path-type":"url","custom-style":"position: fixed; left: 200%"},on:{success:function(i){arguments[0]=i=t.$handleEvent(i),t.createPoster(i)}}})],1)},o=[]},5788:function(t,i,e){"use strict";e.r(i);var n=e("06f8"),a=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},"7acb":function(t,i,e){"use strict";var n=e("9a641"),a=e.n(n);a.a},"9a641":function(t,i,e){var n=e("ab62");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("e740f444",n,!0,{sourceMap:!1,shadowMode:!1})},a9b3:function(t,i,e){"use strict";var n=e("2178"),a=e.n(n);a.a},ab62:function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-countdown[data-v-fe549e7a]{padding:%?2?% 0;flex-wrap:nowrap;justify-content:center}.uni-countdown-splitor[data-v-fe549e7a]{width:auto!important;justify-content:center;line-height:%?44?%;padding:0 %?5?%}.uni-countdown-numbers[data-v-fe549e7a]{line-height:%?44?%;width:auto!important;padding:0 %?10?%;justify-content:center;height:%?44?%;border-radius:%?8?%;margin:0 %?5?%;border:1px solid #000;font-size:%?22?%}',""]),t.exports=i},b3c1:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-label",[t._v(t._s(0==t.Type?t.__("距开始"):t.__("仅剩"))+t._s(t.d)+t._s(t.__("天"))+t._s(t.h)+":"+t._s(t.i)+":"+t._s(t.s))])},a=[]},d3c4:function(t,i,e){"use strict";e.r(i);var n=e("f3f3"),a=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},e9b1:function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */[data-v-15148252]:export{theme_bg:#e93323}.groupNumber[data-v-15148252]{font-size:%?24?%;color:#888}.groupNumber .icon-icon[data-v-15148252]{font-size:%?24?%;display:inline}\r\n/* .groupNumber text{margin: 0 2rpx} */.progressBarBox[data-v-15148252]{position:absolute;right:0;bottom:%?0?%;margin-bottom:%?-20?%;color:#888;font-size:%?24?%;margin-right:%?20?%}.u-progressBar[data-v-15148252]{display:inline-block;width:%?140?%;height:%?20?%;background-color:#d5d5d5;border-radius:%?20?%;overflow:hidden}.u-progressBar-cont[data-v-15148252]{height:%?20?%;background-color:#ffc001}.u-progressBar-text[data-v-15148252]{line-height:%?25?%}.m-product-price .u-btn[data-v-15148252]{padding:0 %?10?%;margin:0 %?20?%;float:right;font-size:%?24?%;line-height:%?50?%;margin-top:%?10?%}.m-product-GP[data-v-15148252]{height:%?270?%}.m-product-GP .m-product-img[data-v-15148252]{height:%?270?%;width:%?270?%}.m-product-GP .m-product-price[data-v-15148252]{line-height:%?28?%;font-size:%?40?%}.m-product-GP .m-product-info[data-v-15148252]{height:%?270?%;width:%?480?%;position:relative}.u-del-price[data-v-15148252]{color:#888;font-size:%?20?%;text-decoration:line-through}.icon-box[data-v-15148252]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#fff;padding:%?20?%;margin-top:%?20?%;position:relative}.icon-box uni-image[data-v-15148252]{width:%?80?%;height:%?80?%}.icon-box uni-image[data-v-15148252]{margin-right:%?32?%}.icon-box-title[data-v-15148252]{font-weight:400;color:#db384b}.icon-box-desc[data-v-15148252]{margin-top:%?12?%;font-size:%?24?%;color:#888}.icon-box uni-icon[data-v-15148252]{margin-right:%?10?%}.m-media-box-bd uni-text[data-v-15148252]{margin-left:%?10?%}.m-media-box-info[data-v-15148252]{color:#888}.u-time-show[data-v-15148252]{position:absolute;width:%?280?%;height:%?80?%;border:%?1?% solid #e93323;left:50%;bottom:0;margin-left:%?-140?%;border-radius:%?80?%;margin-bottom:%?-60?%;z-index:2;background-color:#fff;box-shadow:0 %?0?% %?10?% rgba(0,0,0,.35);line-height:%?80?%;text-align:center}.u-time-show uni-label[data-v-15148252]{font-size:%?24?%}.u-time-show uni-text[data-v-15148252]{color:#e93323!important}\r\n/*底部按钮 start*/.m-footer-btn[data-v-15148252]{height:%?100?%;width:100%;position:fixed;bottom:0;left:0;background-color:#fff;text-align:center;z-index:3}.m-footer-btn-main[data-v-15148252]{width:50%;height:100%;float:left;background-color:#e93323;color:#fff;line-height:%?100?%;font-size:%?32?%}.m-footer-desable[data-v-15148252]{-webkit-filter:grayscale(1);filter:grayscale(1)}.m-now[data-v-15148252]{background-color:#ffc001}\r\n/*底部按钮 end*/\r\n/*团长标签*/.u-fg-label[data-v-15148252]{display:inline-block;font-size:%?24?%;color:#888;padding-right:%?20?%;color:#e93323}.u-fg-label uni-label[data-v-15148252]{color:#ff0;font-size:%?28?%}.m-media-box-thumb[data-v-15148252]{border-radius:100%}.icon-box uni-image[data-v-15148252]{border-radius:100%}\r\n/*团长标签*/\r\n/* .u-btn {\r\npadding:0 10rpx;\r\nwidth:200rpx;\r\nfont-size:24rpx;\r\nline-height:50rpx;\r\nbackground-color:$default-skin-bg;\r\ncolor:#fff;\r\nposition: absolute;\r\nright: 20rpx;\r\ntop:54rpx;\r\n} */.m-product-list[data-v-15148252]{background:#fff;overflow:hidden}.m-product-name[data-v-15148252]{height:%?116?%}.headPhoto[data-v-15148252]{overflow:hidden;display:flex;width:90%;margin:%?20?% auto;justify-content:center;margin-top:0}.personPhoto[data-v-15148252]{position:relative;margin:.2%}.photo-icon[data-v-15148252]{position:absolute;width:%?52?%;height:%?36?%;top:%?-6?%;left:%?-10?%}.photo[data-v-15148252]{width:%?68?%;height:%?68?%;border-radius:50%;border:%?4?% solid #f4a460;margin-top:%?8?%;margin-left:%?2?%;margin-right:%?2?%}.photo-bg[data-v-15148252]{width:%?76?%;height:%?76?%;border-radius:50%;margin-top:%?8?%}.m-product-info[data-v-15148252]::before{border:none}.time uni-text[data-v-15148252]{color:#db384c}.surplus[data-v-15148252]{display:flex;justify-content:center;font-size:%?30?%;margin:%?20?% 0;align-items:center}.link[data-v-15148252]{display:flex;justify-content:space-around;background:#fff;margin-top:%?20?%}.nav[data-v-15148252]{flex:1;display:flex;flex-flow:column;justify-content:center;align-items:center;height:%?200?%}.nav-img[data-v-15148252]{width:%?80?%;height:%?80?%}.nav uni-text[data-v-15148252]{margin-top:%?20?%;font-size:%?24?%;color:#333}.isSucces[data-v-15148252]{position:absolute;right:%?30?%;bottom:%?10?%}.isSucces uni-image[data-v-15148252]{width:%?150?%;height:%?150?%}.rule[data-v-15148252]{padding:%?20?%;background:#fff;margin-top:%?20?%}.rule-header[data-v-15148252]{font-size:%?32?%;color:#333;margin-bottom:%?20?%}.rule-content[data-v-15148252]{font-size:%?24?%;color:#777}',""]),t.exports=i},f3f3:function(t,i,e){"use strict";e("7a82");var n=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("d3b7"),e("159b"),e("e25e");var a=n(e("5530")),o=n(e("4e4b")),s=n(e("307b")),r=n(e("a83b")),u=n(e("99bd")),d=e("26cb"),c={data:function(){return{options:{},Photo:"",UserName:"",splistStr:[],ispaysuccess:!1,isOwner:!1,orderId:"",isfg:!1,gbInfo:{activity_rule:{}},groupUsers:[],isPage:!0,page:1,Coupons:[],isCancelSuccess:!0,isCancel:!0,CouponAmount:0,user_is_new:0,userInfoId:0,show:!0,groupIsEnd:!1,PageQRCodeInfo:{Path:"",IsShare:!1,IsShareBox:!1,IsJT:!1},shareData:{shareText:"随商商城系统，支持原生App、微信小程序，邀请你一起体验！",shareTitle:"随商商城系统，支持原生App、微信小程序，邀请你一起体验！",href:"https://www.suteshop.com",image:"",price:0},productPoster:"",poster:{css:{width:"750rpx",height:"1334rpx",background:"#fff"},views:[{type:"image",src:"https://kuteshop.oss-accelerate.aliyuncs.com/modulithshop/image/media/plantform/20230915/c9ef027ff64d4cd1b81c7c521f565524.jpg",css:{left:"0rpx",top:"0rpx",width:"750rpx",height:"1334rpx",position:"fixed"}},{type:"image",src:"商品图片",css:{left:"20rpx",top:"20rpx",width:"710rpx",height:"710rpx",position:"fixed"}},{type:"text",text:"商品名称",css:{maxLines:2,lineClamp:2,width:"680rpx",left:"35rpx",top:"770rpx",fontSize:"28rpx",color:"#333",lineHeight:"50rpx",position:"fixed"}},{type:"text",text:"¥0",css:{width:"680rpx",left:"35rpx",top:"890rpx",fontSize:"38rpx",color:"#E50F41",position:"fixed"}},{type:"qrcode",text:"二维码",css:{left:"35rpx",top:"990rpx",width:"260rpx",height:"260rpx",position:"fixed"}},{type:"text",text:"长按保存或扫码查看",css:{position:"fixed",left:"60rpx",top:"1270rpx",fontSize:"20rpx",color:"#999"}}]},shareText:"随商商城系统，支持原生App、微信小程序，邀请你一起体验！",shareTitle:"随商商城系统，支持原生App、微信小程序，邀请你一起体验！",href:"https://www.suteshop.com",image:""}},computed:(0,d.mapState)(["Config","StateCode","notice","plantformInfo","shopInfo","userInfo","hasLogin"]),components:{dayCountdown:s.default,shareBoxMp:r.default,shareBoxApp:u.default},onLoad:function(t){uni.setNavigationBarTitle({title:this.__("拼团详情")});var i=this;i.setData({options:t,orderId:t.on||""}),this.forceUserInfo((function(e){i.setData({user_is_new:i.userInfo.user_is_new,CouponAmount:i.userInfo.CouponAmount}),i.initData(t)})),this.getPlantformInfo((function(t){i.poster.views[0].src=t.product_poster_bg,i.setData({})})),this.notice.addNotification("RefreshFG",i.refreshGb,i)},onBackPress:function(){},onUnload:function(){this.notice.removeNotification("RefreshFG",this)},onShareAppMessage:function(){var t=this.gbInfo.gb_quantity-this.gbInfo.gb_amount_quantity,i=t>0?this.$.sprintf(this.__("【还差 %d 人】 %s 邀请您参加拼团！立省 %.2f 元！"),this.gbInfo.gb_quantity-this.gbInfo.gb_amount_quantity,this.userInfo.user_nickname,(this.gbInfo.order_item_sale_price-this.gbInfo.item_unit_price).toFixed(2)):this.$.sprintf(this.__("%s 拼团成功！他已节省 %.2f 元！赶快来拼团吧!"),this.userInfo.user_nickname,(this.gbInfo.item_unit_price-this.gbInfo.order_item_sale_price).toFixed(2)),e=this.$.sprintf("/activity/fightgroup/detail?gb_id=%d&pid=%d&on=%s&uid=%d",this.gbInfo.gb_id,this.gbInfo.item_id,this.orderId,this.userInfo.user_id);return{imageUrl:this.gbInfo.order_item_image,title:i,path:e}},onShareTimeline:function(){var t=this.gbInfo.gb_quantity-this.gbInfo.gb_amount_quantity,i=t>0?this.$.sprintf(this.__("【还差 %d 人】 %s 邀请您参加拼团！立省 %.2f 元！"),this.gbInfo.gb_quantity-this.gbInfo.gb_amount_quantity,this.userInfo.user_nickname,(this.gbInfo.order_item_sale_price-this.gbInfo.item_unit_price).toFixed(2)):this.$.sprintf(this.__("%s 拼团成功！他已节省 %.2f 元！赶快来拼团吧!"),this.userInfo.user_nickname,(this.gbInfo.item_unit_price-this.gbInfo.order_item_sale_price).toFixed(2));this.$.sprintf("/activity/fightgroup/detail?gb_id=%d&pid=%d&on=%s&uid=%d",this.gbInfo.gb_id,this.gbInfo.item_id,this.orderId,this.userInfo.user_id);return{title:i,query:{gb_id:this.gbInfo.gb_id,on:this.orderId,uid:this.userInfo.user_id,pid:this.gbInfo.item_id},imageUrl:this.gbInfo.order_item_image}},methods:(0,a.default)((0,a.default)({},(0,d.mapMutations)(["login","logout","getPlantformInfo","forceUserInfo","getUserInfo"])),{},{initData:function(t){var i=this;i.setData({Photo:i.userInfo.user_avatar,UserName:i.userInfo.user_nickname,isfg:t.isfg||!1});var e={gb_id:t.gb_id||"",order_id:t.on||""};o.default.request({url:this.Config.URL.marketing.getUserGroupbooking,data:e,success:function(t,e,n,a){if(200==e){t.gb_users&&t.gb_users.forEach((function(e){e.user_id==i.userInfo.user_id&&i.setData({userInfoId:e.user_id}),e.user_id==i.userInfo.user_id&&e.user_id==i.userInfo.user_id&&i.setData({ispaysuccess:!0,isOwner:e.user_id==t.user_id})}));var o=(new Date).getTime(),s=t.gb_endtime,r=t.activity_endtime;t.endTime=s-o,t.endTime<=0&&i.setData({groupIsEnd:!0,show:!1}),r-o<=0&&i.setData({show:!1}),t.gb_endtime=i.$.formatDateFormatter(t.gb_endtime,"yyyy-MM-dd hh:mm:ss"),i.setData({gbInfo:t,groupUsers:t.gb_users}),i.poster.views[1].src=t.order_item_image,i.poster.views[2].text=i.gbInfo.gb_quantity-i.gbInfo.gb_amount_quantity>0?i.$.sprintf(i.__("【还差 %d 人】 %s 邀请您参加拼团！立省 %.2f 元！"),i.gbInfo.gb_quantity-i.gbInfo.gb_amount_quantity,i.userInfo.user_nickname,(i.gbInfo.order_item_sale_price-i.gbInfo.item_unit_price).toFixed(2)):i.$.sprintf(i.__("%s 拼团成功！他已节省 %.2f 元！赶快来拼团吧!"),i.userInfo.user_nickname,(i.gbInfo.item_unit_price-i.gbInfo.order_item_sale_price).toFixed(2)),i.poster.views[3].text=i.$.sprintf(i.__("拼团单价 ¥%.2f"),i.gbInfo.order_item_sale_price),i.poster.views[4].text=i.Config.SiteUrl+"/h5/activity/fightgroup/detail?gb_id="+i.gbInfo.gb_id+"&pid="+i.gbInfo.item_id+"&on="+i.orderId+"&uid="+i.userInfo.user_id}}})},createPoster:function(t){this.productPoster=t,this.productPoster&&(uni.hideLoading(),this.$refs.shareBoxMp.path=this.productPoster)},refreshGb:function(){var t={gb_id:this.gbInfo.gb_id};this.initData(t)},immediatelyOffered:function(){o.default.navigateTo({url:"/pagesub/checkout/checkout?ifcart=0&cart_id="+this.gbInfo.item_id+"|1|0&activity_id="+this.gbInfo.activity_id+"&gb_id="+this.gbInfo.gb_id})},doReceive:function(){this.cancel(),this.userReceiveCoupon()},cancel:function(){this.setData({isCancel:!1})},cancelsuccess:function(){this.setData({isCancelSuccess:!0})},innertouch:function(){},userReceiveCoupon:function(){},scrollPage:function(t){if(this.isPage){this.setData({isPage:!1});var i=this;clearTimeout(e);var e=setTimeout((function(){i.gbInfo.gb_id,i.gbInfo.MarketingEventId,parseInt(i.page)}),500)}},shareQRCode:function(t){""==this.productPoster&&(uni.showLoading({title:"海报生成中..",mask:!0}),this.$refs.painter.render(this.poster))},shareBox:function(){var t=o.default.sprintf("%s/h5/activity/fightgroup/detail?gb_id=%d&pid=%d&on=%s&uid=%d",this.Config.SiteUrl,this.gbInfo.gb_id,this.gbInfo.item_id,this.orderId,this.userInfo.user_id),i=this.gbInfo.gb_quantity-this.gbInfo.gb_amount_quantity>0?this.$.sprintf(this.__("【还差 %d 人】 %s 邀请您参加拼团！立省 %.2f 元！"),this.gbInfo.gb_quantity-this.gbInfo.gb_amount_quantity,this.userInfo.user_nickname,(this.gbInfo.order_item_sale_price-this.gbInfo.item_unit_price).toFixed(2)):this.$.sprintf(this.__("%s 拼团成功！他已节省 %.2f 元！赶快来拼团吧!"),this.userInfo.user_nickname,(this.gbInfo.item_unit_price-this.gbInfo.order_item_sale_price).toFixed(2));this.setData({shareData:{shareTitle:this.gbInfo.product_name,shareText:i,href:t,image:this.gbInfo.order_item_image,price:this.gbInfo.order_item_sale_price}}),this.$.ifUniApp()?this.$refs.shareBoxH5.show():this.$refs.shareBoxMp.show()},cancelShare:function(){this.setData({PageQRCodeInfo:{Path:"",IsShare:!1,IsShareBox:!1,IsJT:!1}})},saveImg:function(){var t=this;o.default.showLoading(),o.default.downloadFile({url:this.PageQRCodeInfo.Path,success:function(i){o.default.hideLoading(),o.default.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.setData({PageQRCodeInfo:{Path:"",IsShare:!1,IsShareBox:!1,IsJT:!1}}),o.default.alert("保存图片成功！")},fail:function(t){o.default.hideLoading()}})},fail:function(t){o.default.hideLoading()}})},showCodeImg:function(){o.default.previewImage({current:this.PageQRCodeInfo.Path,urls:[this.PageQRCodeInfo.Path]})}})};i.default=c}}]);